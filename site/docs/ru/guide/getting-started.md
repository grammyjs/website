# Начало работы

Создайте своего первого бота за несколько минут (прокрутите
[вниз](#приступаите-к-работе-с-deno) для руководства по Deno).

## Приступайте к работе на Node.js

> Это руководство предполагает, что у вас установлен
> [Node.js](https://nodejs.org), и `npm` должен поставляться вместе с ним. Если
> вы не знаете, что это за вещи, ознакомьтесь с нашим
> [Введением](./introduction)!

Создайте новый проект TypeScript и установите пакет `grammy`. Для этого откройте
терминал и введите:

::: code-group

```sh [npm]
# Создайте новую директорию и перейдите в неё.
mkdir my-bot
cd my-bot

# Установите Typescript (пропустите если вы используете JavaScript).
npm install -D typescript
npx tsc --init

# Установите grammY.
npm install grammy
```

```sh [Yarn]
# Создайте новую директорию и перейдите в неё.
mkdir my-bot
cd my-bot

# Установите Typescript (пропустите если вы используете JavaScript).
yarn add typescript -D
npx tsc --init

# Установите grammY.
yarn add grammy
```

```sh [pnpm]
# Создайте новую директорию и перейдите в неё.
mkdir my-bot
cd my-bot

# Установите Typescript (пропустите если вы используете JavaScript).
pnpm add -D typescript
npx tsc --init

# Установите grammY.
pnpm add grammy
```

:::

Создайте новый пустой текстовый файл, например, `bot.ts`. Теперь структура ваших
папок должна выглядеть следующим образом:

```asciiart:no-line-numbers
.
├── bot.ts
├── node_modules/
├── package.json
├── package-lock.json
└── tsconfig.json
```

Теперь пришло время открыть Telegram, чтобы создать аккаунт бота и получить
токен для его работы. Для этого напишите [@BotFather](https://t.me/BotFather).
Токен выглядит как `123456:aBcDeF_gHiJkLmNoP-q`. Он используется для
аутентификации вашего бота.

Получили токен? Теперь вы можете написать код вашего бота в файле `bot.ts`. Вы
можете скопировать следующий пример бота в этот файл и передать свой токен в
конструктор `Bot`:

::: code-group

```ts [TypeScript]
import { Bot } from "grammy";

// Создайте экземпляр класса `Bot` и передайте ему токен вашего бота.
const bot = new Bot(""); // <-- поместите токен вашего бота между "".

// Теперь вы можете зарегистрировать слушателей на объекте вашего бота `bot`.
// grammY будет вызывать слушателей, когда пользователи будут отправлять сообщения вашему боту.

// Обработайте команду /start.
bot.command(
  "start",
  (ctx) => ctx.reply("Добро пожаловать. Запущен и работает!"),
);
// Обработайте другие сообщения.
bot.on("message", (ctx) => ctx.reply("Получил другое сообщение!"));

// Теперь, когда вы указали, как обрабатывать сообщения, вы можете запустить своего бота.
// Он подключится к серверам Telegram и будет ждать сообщений.

// Запустите бота.
bot.start();
```

```js [JavaScript]
const { Bot } = require("grammy");

// Создайте экземпляр класса `Bot` и передайте ему токен вашего бота.
const bot = new Bot(""); // <-- поместите токен вашего бота между "".

// Теперь вы можете зарегистрировать слушателей на объекте вашего бота `bot`.
// grammY будет вызывать слушателей, когда пользователи будут отправлять сообщения вашему боту.

// Обработайте команду /start.
bot.command(
  "start",
  (ctx) => ctx.reply("Добро пожаловать. Запущен и работает!"),
);
// Обработайте другие сообщения.
bot.on("message", (ctx) => ctx.reply("Получил другое сообщение!"));

// Теперь, когда вы указали, как обрабатывать сообщения, вы можете запустить своего бота.
// Он подключится к серверам Telegram и будет ждать сообщений.

// Запустите бота.
bot.start();
```

:::

Скомпилируйте код, выполнив команду

```sh
npx tsc
```

в вашем терминале. В результате будет создан JavaScript файл `bot.js`.

Теперь вы можете запустить бота, выполнив команду

```sh
node bot.js
```

в вашем терминале. Готово! :tada:

Перейдите в Telegram, чтобы посмотреть, как ваш бот отвечает на сообщения!

::: tip Включение логов
Вы можете включить базовое ведение логов, выполнив
команду

```sh
export DEBUG="grammy*"
```

в терминале перед выполнением `node bot.js`. Это облегчает отладку вашего бота.
:::

## Приступайте к работе с Deno

> Это руководство предполагает, что у вас установлен [Deno](https://deno.com).

Создайте новую директорию и создайте в ней новый пустой текстовый файл,
например, с именем `bot.ts`.

```sh
mkdir ./my-bot
cd ./my-bot
touch bot.ts
```

Теперь пришло время открыть Telegram, чтобы создать аккаунт бота и получить
токен для его работы. Для этого напишите [@BotFather](https://t.me/BotFather).
Токен выглядит как `123456:aBcDeF_gHiJkLmNoP-q`. Он используется для
аутентификации вашего бота.

Получили токен? Теперь вы можете написать код вашего бота в файле `bot.ts`. Вы
можете скопировать следующий пример бота в этот файл и передать свой токен в
конструктор `Bot`:

```ts
import { Bot } from "https://deno.land/x/grammy/mod.ts";

// Создайте экземпляр класса `Bot` и передайте ему токен вашего бота.
const bot = new Bot(""); // <-- поместите токен вашего бота между "".

// Теперь вы можете зарегистрировать слушателей на объекте вашего бота `bot`.
// grammY будет вызывать слушателей, когда пользователи будут отправлять сообщения вашему боту.

// Обработайте команду /start.
bot.command(
  "start",
  (ctx) => ctx.reply("Добро пожаловать. Запущен и работает!"),
);
// Обработайте другие сообщения.
bot.on("message", (ctx) => ctx.reply("Получил другое сообщение!"));

// Теперь, когда вы указали, как обрабатывать сообщения, вы можете запустить своего бота.
// Он подключится к серверам Telegram и будет ждать сообщений.

// Запустите бота.
bot.start();
```

Теперь вы можете запустить бота, выполнив команду

```sh
deno -IN bot.ts
```

в вашем терминале. Готово! :tada:

Перейдите в Telegram, чтобы посмотреть, как ваш бот отвечает на сообщения!

::: tip Включение логов
Вы можете включить базовое ведение логов, выполнив
команду

```sh
export DEBUG="grammy*"
```

в терминале перед выполнением `node bot.js`. Это облегчает отладку вашего бота

Теперь вам нужно запустить бота, используя

```sh
deno -EIN bot.ts
```

чтобы grammY мог определить, что `DEBUG` установлен.
:::
