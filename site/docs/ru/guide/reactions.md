# –†–µ–∞–∫—Ü–∏–∏

–ë–æ—Ç—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–∞–∫—Ü–∏—è–º–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ —Ä–µ–∞–∫—Ü–∏–π: —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —ç–º–æ–¥–∑–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —ç–º–æ–¥–∑–∏.

## –†–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

–ë–æ—Ç—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫ —Å–æ–æ–±—â–µ–Ω–∏—é –æ–¥–Ω—É —Ä–µ–∞–∫—Ü–∏—é –≤ –≤–∏–¥–µ —ç–º–æ–¥–∑–∏.

–í —Ç–µ—Ö –∂–µ —Å–ª—É—á–∞—è—Ö –±–æ—Ç—ã –º–æ–≥—É—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —ç–º–æ–¥–∑–∏ (—Ö–æ—Ç—è –±–æ—Ç—ã –Ω–µ –º–æ–≥—É—Ç –∏–º–µ—Ç—å [Telegram –ü—Ä–µ–º–∏—É–º](https://telegram.org/faq_premium)).
–ö–æ–≥–¥–∞ –ø—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ —Å–æ–æ–±—â–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Ä–µ–∞–∫—Ü–∏—é —Å –ø–æ–º–æ—â—å—é —ç–º–æ–¥–∑–∏, –±–æ—Ç—ã –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–∫—É—é –∂–µ —Ä–µ–∞–∫—Ü–∏—é –∫ —ç—Ç–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —á–∞—Ç–∞ —è–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–º–æ–¥–∑–∏, –∏—Ö –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –±–æ—Ç—ã –≤ —ç—Ç–æ–º —á–∞—Ç–µ.

–í–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.

```ts
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ctx.react` –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
bot.command("start", (ctx) => ctx.react("üòç"));
bot.on("message", (ctx) => ctx.react("üëç"));

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ctx.api.setMessageReaction` –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ.
bot.on("message", async (ctx) => {
    await ctx.api.setMessageReaction(chat_id, message_id, [
    { type: "emoji", emoji: "üéâ" },
  ]);
});

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bot.api.setMessageReaction` –≤–Ω–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
await bot.api.setMessageReaction(chat_id, message_id, [
  { type: "emoji", emoji: "üíØ" },
]);
```

–ö–∞–∫ –æ–±—ã—á–Ω–æ, TypeScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è —ç–º–æ–¥–∑–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–º–æ–¥–∑–∏-—Ä–µ–∞–∫—Ü–∏–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](https://core.telegram.org/bots/api#reactiontypeemoji).

::: tip –ü–ª–∞–≥–∏–Ω Emoji
–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —ç–º–æ–¥–∑–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∫—Ä–∞—Å–∏–≤–æ.
–ù–µ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–∞–¥–æ–µ–¥–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç.

–ü—É—Å—Ç—å [–ø–ª–∞–≥–∏–Ω emoji](../plugins/emoji#–ø–æ–ª–µ–∑–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ-–¥–ª—è-—Ä–µ–∞–∫—Ü–∏–∏) –ø–æ–º–æ–∂–µ—Ç –≤–∞–º!
:::

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –≤–∞—à –±–æ—Ç –º–æ–∂–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏—é –≤–∞—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ —Ä–µ–∞–∫—Ü–∏—è—Ö

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ —Ä–µ–∞–∫—Ü–∏—è—Ö.
–í –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö –∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö –≤–∞—à –±–æ—Ç –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `message_reaction`, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–∏–ª —Å–≤–æ—é —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ.
–í –∫–∞–Ω–∞–ª–∞—Ö (–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—ã–ª–∞–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö) –≤–∞—à –±–æ—Ç –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `message_reaction_count`, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–∫—Ü–∏–π, –Ω–æ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç, –∫—Ç–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª.

–û–±–∞ —Ç–∏–ø–∞ —Ä–µ–∞–∫—Ü–∏–π –ø–æ—Å—Ç—É–ø–∞—é—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, **–∫–æ–≥–¥–∞ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º** –≤ —á–∞—Ç–µ.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω–∏ **–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã** —Å –ø–æ–º–æ—â—å—é `allowed_updates`.
–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ polling –≤—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∏—Ç—å –∏—Ö —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```ts
bot.start({
  allowed_updates: ["message", "message_reaction", "message_reaction_count"],
});
```

::: tip –í–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `API_CONSTANTS` –∏–∑ grammY –∏ –∑–∞—Ç–µ–º —É–∫–∞–∑–∞—Ç—å

```ts
allowed_updates: API_CONSTANTS.ALL_UPDATE_TYPES;
```

—á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –≤—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π](/ref/core/apiconstants#all-update-types).
:::

[grammY runner](../plugins/runner#—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-–Ω–∞—Å—Ç—Ä–æ–∏–∫–∏) –∏ `setWebhook` –∏–º–µ—é—Ç —Å—Ö–æ–∂–∏–µ —Å–ø–æ—Å–æ–±—ã —É–∫–∞–∑–∞–Ω–∏—è `allowed_updates`.

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤–∞—à –±–æ—Ç –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –æ–Ω –º–æ–∂–µ—Ç –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å!

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ä–µ–∞–∫—Ü–∏–π

–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–Ω–æ–≤—å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏.
–í grammY –¥–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ `bot.reaction`.

```ts
bot.reaction("üéâ", (ctx) => ctx.reply("–±–ª—é–ø –±–ª—é–ø"));
bot.reaction(["üëç", "üëé"], (ctx) => ctx.reply("–ö—Ä–∞—Å–∏–≤—ã–π –ø–∞–ª–µ—Ü"));
```

–≠—Ç–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—É–¥—É—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–æ–≤—É—é —Ä–µ–∞–∫—Ü–∏—é.

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –µ—Å–ª–∏ –≤–∞—à –±–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –æ—Ç –ø—Ä–µ–º–∏—É–º-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–ª—É—à–∞—Ç—å –∏ –∏—Ö.

```ts
bot.reaction(
  { type: "custom_emoji", custom_emoji_id: "identifier-string" },
  async (ctx) => {/* ... */},
);
```

–î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–º–æ–¥–∑–∏.

–ù–∞–∫–æ–Ω–µ—Ü, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–≤–∏—Ç —Ä–µ–∞–∫—Ü–∏—é –∑–≤–µ–∑–¥—ã, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

```ts
bot.reaction({ type: "paid" }, (ctx) => ctx.reply("–°–ø–∞—Å–∏–±–æ!"));
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–∞–∫—Ü–∏—è—Ö

–•–æ—Ç—è —ç—Ç–æ –Ω–µ –≤–∏–¥–Ω–æ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ Telegram, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–∫—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–µ–∞–∫—Ü–∏–π –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–≤–∞ —Å–ø–∏—Å–∫–∞ - —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö —Ä–µ–∞–∫—Ü–∏–π.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞—à–µ–º—É –±–æ—Ç—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ —Ä–µ–∞–∫—Ü–∏–π.

```ts
bot.on("message_reaction", async (ctx) => {
  const reaction = ctx.messageReaction;
  // –ú—ã –ø–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –Ω–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.
  const message = reaction.message_id;
  // –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –¥–≤—É–º—è —Å–ø–∏—Å–∫–∞–º–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.
  const old = reaction.old_reaction; // –ø—Ä–µ–¥—ã–¥—É—â–∏–µ
  const now = reaction.new_reaction; // —Ç–µ–∫—É—â–∏–µ
});
```

grammY –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ—â–µ –±–æ–ª—å—à–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö [—Ñ–∏–ª—å—Ç—Ä—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤](./filter-queries) –¥–ª—è —Ç–∏–ø–∞ —Ä–µ–∞–∫—Ü–∏–∏.

```ts
// –û–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —ç–º–æ–¥–∑–∏.
bot.on("message_reaction:new_reaction:emoji", (ctx) => {/* ... */});
// –û–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Ä–µ–∞–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∞–ª–∞ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–º–æ–¥–∑–∏.
bot.on("message_reaction:old_reaction:custom_emoji", (ctx) => {/* ... */});
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–∫—Ü–∏—é –∑–≤–µ–∑–¥—ã.
bot.on("message_reaction:new_reaction:paid", (ctx) => {/* ... */});
```

–•–æ—Ç—è —ç—Ç–∏ –¥–≤–∞ –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ [`ReactionType`](https://core.telegram.org/bots/api#reactiontype) —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–∞—é—Ç –≤–∞–º –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Ä–µ–∞–∫—Ü–∏–π, –æ–Ω–∏ –≤—Å–µ –∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –≥—Ä–æ–º–æ–∑–¥–∫–∏–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã.
–ü–æ—ç—Ç–æ–º—É grammY –º–æ–∂–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å –∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–µ –≤–µ—â–∏.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ, –∫–∞–∫ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Ä–µ–∞–∫—Ü–∏—è

–°—É—â–µ—Å—Ç–≤—É–µ—Ç [–∫—Ä–∞—Ç–∫–∞—è –∑–∞–ø–∏—Å—å](./context#–∫—Ä–∞—Ç–∫–∞—è-–∑–∞–ø–∏—Å—å) –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `ctx.reactions`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Ä–µ–∞–∫—Ü–∏—è.

–í–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ctx.reactions`, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —É–¥–∞–ª—è–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–≤–æ–π –ø–∞–ª–µ—Ü –≤–≤–µ—Ä—Ö (–Ω–æ –ø—Ä–æ—Å—Ç–∏—Ç—å –µ–≥–æ, –µ—Å–ª–∏ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ—é —Ä–µ–∞–∫—Ü–∏—é –æ–∫–µ–π).

```ts
bot.on("message_reaction", async (ctx) => {
  const { emoji, emojiAdded, emojiRemoved } = ctx.reactions();
  if (emojiRemoved.includes("üëç")) {
    // –ü–∞–ª–µ—Ü –≤–≤–µ—Ä—Ö –±—ã–ª —É–¥–∞–ª–µ–Ω! –ù–µ–ø—Ä–∏–µ–º–ª–µ–º–æ.
    if (emoji.includes("üëå")) {
      // –í—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –Ω–µ –Ω–∞–∫–∞–∑—ã–≤–∞–π—Ç–µ.
      await ctx.reply("–Ø –ø—Ä–æ—â–∞—é —Ç–µ–±—è");
    } else {
      // –ö–∞–∫ –æ–Ω–∏ —Å–º–µ—é—Ç.
      await ctx.banAuthor();
    }
  }
});
```

–ï—Å—Ç—å —á–µ—Ç—ã—Ä–µ –º–∞—Å—Å–∏–≤–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ `ctx.reaction`: –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏, —É–¥–∞–ª–µ–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏ –∏ —Å–ø–∏—Å–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç –≤–∞–º –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å—Ç—å –µ—â–µ —á–µ—Ç—ã—Ä–µ –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —ç–º–æ–¥–∑–∏ —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
–ù–∞–∫–æ–Ω–µ—Ü, –µ—Å—Ç—å –¥–≤–∞ –±—É–ª–µ–≤—ã—Ö —Ñ–ª–∞–≥–∞ –¥–ª—è –ø–ª–∞—Ç–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π.

```ts
const {
  /** –≠–º–æ–¥–∑–∏, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  emoji,
  /** –≠–º–æ–¥–∑–∏, –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ —Ä–µ–∞–∫—Ü–∏—é —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  emojiAdded,
  /** –≠–º–æ–¥–∑–∏, –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  emojiKept,
  /** –≠–º–æ–¥–∑–∏, —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  emojiRemoved,
  /** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–º–æ–¥–∑–∏, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  customEmoji,
  /** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–º–æ–¥–∑–∏, –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ —Ä–µ–∞–∫—Ü–∏—é —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  customEmojiAdded,
  /** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–º–æ–¥–∑–∏, –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  customEmojiKept,
  /** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–º–æ–¥–∑–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  customEmojiRemoved,
  /** –£–∫–∞–∑—ã–≤–∞–µ—Ç, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–ª–∞—Ç–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –≤ —Ä–µ–∞–∫—Ü–∏—è—Ö —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. */
  paid,
  /** –£–∫–∞–∑—ã–≤–∞–µ—Ç, –±—ã–ª–∞ –ª–∏ –ø–ª–∞—Ç–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫ —Ä–µ–∞–∫—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  paidAdded,
} = ctx.reactions();
```

–ú–Ω–æ–≥–æ–µ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –æ —Ä–∞–±–æ—Ç–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –≤ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö –∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö.
–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–Ω–∞–ª—ã.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å—á–µ—Ç—á–∏–∫–∞ —Ä–µ–∞–∫—Ü–∏–π

–í –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö, –≥—Ä—É–ø–ø–∞—Ö –∏ —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞—Ö –∏–∑–≤–µ—Å—Ç–Ω–æ, –∫—Ç–æ –∏ –∫–∞–∫ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Ç–æ –∏–ª–∏ –∏–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
–û–¥–Ω–∞–∫–æ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–∞–Ω–∞–ª–µ —É –Ω–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π.
–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
–¢–æ –∂–µ —Å–∞–º–æ–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—ã–ª–∞—é—Ç—Å—è –≤ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∫–∞–Ω–∞–ª–æ–º —á–∞—Ç.

–í –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –≤–∞—à –±–æ—Ç –ø–æ–ª—É—á–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `message_reaction_count`.

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å—Ç—É–ø–∏—Ç—å —Å –Ω–∏–º —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

```ts
bot.on("message_reaction_count", async (ctx) => {
  const counts = ctx.messageReactionCount;
  // –ò —Å–Ω–æ–≤–∞ –º—ã –≤–∏–¥–∏–º —Ç–æ–ª—å–∫–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è.
  const message = counts.message_id;
  // –í–æ—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π —Å –ø–æ–¥—Å—á–µ—Ç–æ–º.
  const { reactions } = counts;
});
```

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ [—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π](https://core.telegram.org/bots/api#messagereactioncountupdated) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∞–∫—Ü–∏–π –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
