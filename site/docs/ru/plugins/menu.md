---
prev: false
next: false
---

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ–Ω—é (`menu`)

–õ–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ–Ω—é.

## –í–µ–¥–µ–Ω–∏–µ

–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ --- —ç—Ç–æ –º–∞—Å—Å–∏–≤ –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –í grammY –µ—Å—Ç—å
[–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–∞–≥–∏–Ω](./keyboard#–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö
–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä.

–ü–ª–∞–≥–∏–Ω –º–µ–Ω—é —Ä–∞–∑–≤–∏–≤–∞–µ—Ç —ç—Ç—É –∏–¥–µ—é –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–µ –º–µ–Ω—é –ø—Ä—è–º–æ –≤
—á–∞—Ç–µ. –í –Ω–∏—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
–º–µ–∂–¥—É –Ω–∏–º–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

–í–æ—Ç –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º –∑–∞ —Å–µ–±—è.

::: code-group

```ts [TypeScript]
import { Bot } from "grammy";
import { Menu } from "@grammyjs/menu";

// –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞.
const bot = new Bot("");

// –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–µ –º–µ–Ω—é.
const menu = new Menu("my-menu-identifier")
  .text("A", (ctx) => ctx.reply("–í—ã –Ω–∞–∂–∞–ª–∏ A!")).row()
  .text("B", (ctx) => ctx.reply("–í—ã –Ω–∞–∂–∞–ª–∏ B!"));

// –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º
bot.use(menu);

bot.command("start", async (ctx) => {
  // –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–µ–Ω—é.
  await ctx.reply("–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç–æ –º–µ–Ω—é:", { reply_markup: menu });
});

bot.start();
```

```js [JavaScript]
const { Bot } = require("grammy");
const { Menu } = require("@grammyjs/menu");

// –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞.
const bot = new Bot("");

// –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–µ –º–µ–Ω—é.
const menu = new Menu("my-menu-identifier")
  .text("A", (ctx) => ctx.reply("–í—ã –Ω–∞–∂–∞–ª–∏ A!")).row()
  .text("B", (ctx) => ctx.reply("–í—ã –Ω–∞–∂–∞–ª–∏ B!"));

// –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º
bot.use(menu);

bot.command("start", async (ctx) => {
  // –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–µ–Ω—é.
  await ctx.reply("–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç–æ –º–µ–Ω—é:", { reply_markup: menu });
});

bot.start();
```

```ts [Deno]
import { Bot } from "https://deno.land/x/grammy/mod.ts";
import { Menu } from "https://deno.land/x/grammy_menu/mod.ts";

// –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞.
const bot = new Bot("");

// –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–µ –º–µ–Ω—é.
const menu = new Menu("my-menu-identifier")
  .text("A", (ctx) => ctx.reply("–í—ã –Ω–∞–∂–∞–ª–∏ A!")).row()
  .text("B", (ctx) => ctx.reply("–í—ã –Ω–∞–∂–∞–ª–∏ B!"));

// –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º
bot.use(menu);

bot.command("start", async (ctx) => {
  // –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–µ–Ω—é.
  await ctx.reply("–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç–æ –º–µ–Ω—é:", { reply_markup: menu });
});

bot.start();
```

:::

> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤—Å–µ –º–µ–Ω—é –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ middleware, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥
> middleware, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º –¥–∞–Ω–Ω—ã–µ `callback_query`. –¢–∞–∫–∂–µ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ
> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è `allowed_updates`, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∫–ª—é—á–∏—Ç—å
> –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `callback_query`.

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ
[–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–ø –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞](../guide/context#–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è-–æ–±—ä–µ–∫—Ç–∞-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞),
–≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –∏ –≤ `Menu`.

```ts
const menu = new Menu<MyContext>("id");
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫

–ü–ª–∞–≥–∏–Ω –º–µ–Ω—é –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç
[–ø–ª–∞–≥–∏–Ω –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä](./keyboard#–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–∫–ª–∞–≤–∏–∞—Ç—É—Ä).
–ö–ª–∞—Å—Å `Menu` –∑–∞–º–µ–Ω—è–µ—Ç –∫–ª–∞—Å—Å `InlineKeyboard`.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –º–µ–Ω—é, —Å–æ—Å—Ç–æ—è—â–µ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ —Ñ–æ—Ä–º–µ —Ä—è–¥–∞ 1-2-1.

```ts
const menu = new Menu("movements")
  .text("^", (ctx) => ctx.reply("–í–ø–µ—Ä–µ–¥!")).row()
  .text("<", (ctx) => ctx.reply("–ù–∞–ª–µ–≤–æ!"))
  .text(">", (ctx) => ctx.reply("–ù–∞–ø—Ä–∞–≤–æ!")).row()
  .text("v", (ctx) => ctx.reply("–ù–∞–∑–∞–¥!"));
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `text` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫. –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å
–Ω–∞–∑–≤–∞–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `row`, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–æ–∫—É –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ
–∫–Ω–æ–ø–∫–∏ –≤ –Ω–æ–≤—É—é.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∫–Ω–æ–ø–æ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è URL. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ
[API](/ref/menu/menurange) —ç—Ç–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è `MenuRange`, –∞ —Ç–∞–∫–∂–µ
[Telegram Bot API](https://core.telegram.org/bots/api#inlinekeyboardbutton) –¥–ª—è
`InlineKeyboardButton`.

## –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–Ω—é

–°–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–µ–Ω—é. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –µ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º.

```ts
bot.use(menu);
```

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å –º–µ–Ω—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ `reply_markup` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
—Å–æ–æ–±—â–µ–Ω–∏—è.

```ts
bot.command("menu", async (ctx) => {
  await ctx.reply("–í–æ—Ç –≤–∞—à–µ –º–µ–Ω—é", { reply_markup: menu });
});
```

## –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏—è

–ö–æ–≥–¥–∞ –≤—ã –Ω–∞–∑—ã–≤–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É, –≤—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
`(ctx: Context) => string` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ. –≠—Ç–∞
—Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å `async`, –∞ –º–æ–∂–µ—Ç –∏ –Ω–µ –±—ã—Ç—å.

```ts
// –°–æ–∑–¥–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏.
const menu = new Menu("greet-me")
  .text(
    (ctx) => `–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–π—Ç–µ ${ctx.from?.first_name ?? "–º–µ–Ω—è"}!`, // –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
    (ctx) => ctx.reply(`–ü—Ä–∏–≤–µ—Ç, ${ctx.from.first_name}!`), // –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
  );
```

–°—Ç—Ä–æ–∫–∞, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è _–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä–æ–∫–æ–π_.
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ç–∞–∫–∏—Ö –≤–µ—â–µ–π, –∫–∞–∫ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.

```ts
// –ù–∞–±–æ—Ä –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –≤–∫–ª—é—á–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
const notifications = new Set<number>();

function toggleNotifications(id: number) {
  if (!notifications.delete(id)) notifications.add(id);
}

const menu = new Menu("toggle")
  .text(
    (ctx) => ctx.from && notifications.has(ctx.from.id) ? "üîî" : "üîï",
    (ctx) => {
      toggleNotifications(ctx.from.id);
      ctx.menu.update(); // –æ–±–Ω–æ–≤–∏—Ç–µ –º–µ–Ω—é!
    },
  );
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å –º–µ–Ω—é –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã
–≤–∞—à–∏ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—è–ª–∏—Å—å. –í—ã–∑–æ–≤–∏—Ç–µ `ctx.menu.update()`, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∞—à–µ
–º–µ–Ω—é –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω–æ.

::: tip –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω –º–µ–Ω—é.
–ù–µ —Å—Ç–æ–∏—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–±—ä–µ–∫—Ç–µ `Set`, —Ç–∞–∫ –∫–∞–∫ –≤ —ç—Ç–æ–º
—Å–ª—É—á–∞–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–ª–∞–≥–∏–Ω [—Å–µ—Å—Å–∏—è](./session), –µ—Å–ª–∏
–≤—ã —Ö–æ—Ç–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.
:::

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é

–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏, –≤ `ctx.menu` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä—è–¥ –ø–æ–ª–µ–∑–Ω—ã—Ö
—Ñ—É–Ω–∫—Ü–∏–π.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∞—à–µ –º–µ–Ω—é –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–ª–æ—Å—å, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å
`ctx.menu.update()`. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤,
–∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤ —Å–≤–æ–µ–º –º–µ–Ω—é. –û–Ω–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ
middleware –±–æ—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–∑–Ω–∞—Ç—å, _–∫–∞–∫–æ–µ_ –º–µ–Ω—é
–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–æ.

```ts
const menu = new Menu("time", { onMenuOutdated: false })
  .text(
    () => new Date().toLocaleString(), // –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ - —ç—Ç–æ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
    (ctx) => ctx.menu.update(), // –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é
  );
```

> –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ `onMenuOutdated` –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è [–Ω–∏–∂–µ](#—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ-–º–µ–Ω—é-–∏-–æ—Ç–ø–µ—á–∞—Ç–∫–∏).
> –ü–æ–∫–∞ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –º–µ–Ω—é –Ω–µ—è–≤–Ω–æ, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

```ts
const menu = new Menu("time")
  .text(
    "–ö–∞–∫–æ–µ —Å–µ–π—á–∞—Å –≤—Ä–µ–º—è?",
    (ctx) => ctx.editMessageText("–°–µ–π—á–∞—Å " + new Date().toLocaleString()),
  );
```

–ú–µ–Ω—é –æ–ø—Ä–µ–¥–µ–ª–∏—Ç, —á—Ç–æ –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –∏
–≤–æ—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ç–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ –Ω–∏–º. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
—á–∞—Å—Ç–æ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å —è–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `ctx.menu.update()`.

–í—ã–∑–æ–≤ `ctx.menu.update()` –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –º–µ–Ω—é. –í–º–µ—Å—Ç–æ
—ç—Ç–æ–≥–æ –æ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥ –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ –≤ –∫–∞–∫–æ–π-—Ç–æ
–º–æ–º–µ–Ω—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞—à–µ–≥–æ middleware. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è _–ª–µ–Ω–∏–≤—ã–º
–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º_. –ï—Å–ª–∏ –≤—ã –ø–æ–∑–∂–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ —Å–∞–º–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–ª–∞–≥–∏–Ω –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ –≤—ã–∑–æ–≤ API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫. –≠—Ç–æ –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –∏
–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –µ—Å–ª–∏ –≤—ã –≤—ã–∑–æ–≤–µ—Ç–µ `ctx.menu.update()`, –Ω–æ –Ω–µ –∑–∞–ø—Ä–æ—Å–∏—Ç–µ –Ω–∏–∫–∞–∫–∏—Ö
–∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏, –ø–ª–∞–≥–∏–Ω –º–µ–Ω—é —Å–∞–º –æ–±–Ω–æ–≤–∏—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
–≤–∞—à–µ–≥–æ middleware.

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –º–µ–Ω—é –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å –ø–æ–º–æ—â—å—é
`await ctx.menu.update({ immediate: true })`. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ
`ctx.menu.update()` –≤–µ—Ä–Ω–µ—Ç `Promise`, –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await`!
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `immediate` —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π,
–∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –≤ `ctx.menu`. –ï–≥–æ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é, —Ç–æ –µ—Å—Ç—å —É–±—Ä–∞—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å
`ctx.menu.close()`. –û–ø—è—Ç—å –∂–µ, —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ª–µ–Ω–∏–≤–æ.

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –º–µ–Ω—é

–í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ–Ω—é —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –º–µ–∂–¥—É –Ω–∏–º–∏.
–ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Menu`. –ö–Ω–æ–ø–∫–∞ `submenu` ---
—ç—Ç–æ –∫–Ω–æ–ø–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥
–æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ `back`.

```ts
const main = new Menu("root-menu")
  .text("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å", (ctx) => ctx.reply("–ü—Ä–∏–≤–µ—Ç!")).row()
  .submenu("–ê–≤—Ç–æ—Ä—ã", "credits-menu");

const settings = new Menu("credits-menu")
  .text("–ü–æ–∫–∞–∑–∞—Ç—å –∞–≤—Ç–æ—Ä–æ–≤", (ctx) => ctx.reply("–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ grammY"))
  .back("–ù–∞–∑–∞–¥");
```

–û–±–µ –∫–Ω–æ–ø–∫–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –±–µ—Ä—É—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ middleware, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å
–Ω–∞ —Å–æ–±—ã—Ç–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ `submenu` –∏ `back` –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É
—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏, –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é `ctx.menu.nav()`. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è
–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –º–µ–Ω—é –∏ –ª–µ–Ω–∏–≤–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ,
–æ–±—Ä–∞—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `ctx.menu.back()`.

–î–∞–ª–µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–≤—è–∑–∞—Ç—å –º–µ–Ω—é, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–≤ –∏—Ö –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–æ–¥–Ω–æ–≥–æ –º–µ–Ω—é –¥—Ä—É–≥–∏–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –∏—Ö –∏–µ—Ä–∞—Ä—Ö–∏—é. –ú–µ–Ω—é, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è,
—è–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º, –∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º–æ–µ –º–µ–Ω—é - –¥–æ—á–µ—Ä–Ω–∏–º. –ù–∏–∂–µ, `main` —è–≤–ª—è–µ—Ç—Å—è
—Ä–æ–¥–∏—Ç–µ–ª–µ–º `settings`, –µ—Å–ª–∏ —è–≤–Ω–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –¥—Ä—É–≥–æ–π —Ä–æ–¥–∏—Ç–µ–ª—å. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –º–µ–Ω—é
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞—Ç–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

```ts
// –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é.
main.register(settings);
// –ü–æ –∂–µ–ª–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è.
main.register(settings, "back-from-settings-menu");
```

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ –º–µ–Ω—é, —Å–∫–æ–ª—å–∫–æ –∑–∞—Ö–æ—Ç–∏—Ç–µ, –∏ –≤–ª–æ–∂–∏—Ç—å –∏—Ö —Ç–∞–∫
–≥–ª—É–±–æ–∫–æ, –∫–∞–∫ –≤–∞–º –∑–∞—Ö–æ—á–µ—Ç—Å—è. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–µ–Ω—é –ø–æ–∑–≤–æ–ª—è—é—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ª—é–±—É—é
—Å—Ç—Ä–∞–Ω–∏—Ü—É.

**–í—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –º–µ–Ω—é –≤–∞—à–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
–º–µ–Ω—é.** –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–¥–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ—Ä–Ω–µ–≤–æ–µ –º–µ–Ω—é –≤ `bot.use`.

```ts
// –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å:
main.register(settings);

// –°–¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ:
bot.use(main);

// –ù–ï –¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ:
bot.use(main);
bot.use(settings);
```

**–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–µ–Ω—é –∏ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –≤—Å–µ
–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏.** –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–¥–∏—Ç–µ –¥–≤–∞ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–µ–Ω—é –∏ –≤–∞–º –Ω–∏–∫–æ–≥–¥–∞
–Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏, —Ç–æ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
–¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

```ts
// –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–µ–Ω—é, –∫–∞–∫ —ç—Ç–æ:
const menuA = new Menu("menu-a");
const menuB = new Menu("menu-b");

// –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:
bot.use(menuA);
bot.use(menuB);
```

## Payload

–í—ã –º–æ–∂–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ payloads –≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –∏
—Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏. –ö–æ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã, —Ç–µ–∫—Å—Ç–æ–≤—ã–π
payload –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ `ctx.match`. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ–∑–≤–æ–ª—è–µ—Ç
—Ö—Ä–∞–Ω–∏—Ç—å –≤ –º–µ–Ω—é –Ω–µ–º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –º–µ–Ω—é, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤ payload —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è. –î—Ä—É–≥–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–æ–Ω–Ω–æ–º –º–µ–Ω—é.

```ts
function generatePayload() {
  return Date.now().toString();
}

const menu = new Menu("store-current-time-in-payload")
  .text(
    { text: "–û–¢–ú–ï–ù–ê!", payload: generatePayload },
    async (ctx) => {
      // –î–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 5 —Å–µ–∫—É–Ω–¥, —á—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ.
      const text = Date.now() - Number(ctx.match) < 5000
        ? "–û–ø–µ—Ä–∞—Ü–∏—è –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–∞."
        : "–°–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ. –í–∞—à–∏ –≤–∏–¥–µ–æ —Å –∫–æ—à–∫–∞–º–∏ —É–∂–µ —Å—Ç–∞–ª–∏ –≤–∏—Ä—É—Å–Ω—ã–º–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.";
      await ctx.reply(text);
    },
  );

bot.use(menu);
bot.command("publish", async (ctx) => {
  await ctx.reply(
    "–í–∏–¥–µ–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ. –£ –≤–∞—Å –µ—Å—Ç—å 5 —Å–µ–∫—É–Ω–¥, —á—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å —ç—Ç–æ.",
    {
      reply_markup: menu,
    },
  );
});
```

::: tip –õ–∏–º–∏—Ç—ã Payload –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤
–¥–∞–Ω–Ω—ã—Ö. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å --- —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ç—Ä–æ–∫–∏, –æ–±—ã—á–Ω–æ –Ω–µ
–ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ 50 –±–∞–π—Ç, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–Ω–¥–µ–∫—Å –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –ï—Å–ª–∏ –≤—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ
—Ö–æ—Ç–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞, URL –∏–ª–∏
—á—Ç–æ-—Ç–æ –µ—â–µ, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [—Å–µ—Å—Å–∏–∏](./session).

–¢–∞–∫–∂–µ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ payload –≤—Å–µ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ
–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, _–æ—Ç–∫—É–¥–∞_ –≤—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫
–º–µ–Ω—é, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –º–µ–Ω—é
[—É—Å—Ç–∞—Ä–µ–ª–æ](#—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ-–º–µ–Ω—é-–∏-–æ—Ç–ø–µ—á–∞—Ç–∫–∏), –æ–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω–æ _–Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –º–µ–Ω—é_.
:::

Payload'—ã —Ç–∞–∫–∂–µ —Ö–æ—Ä–æ—à–æ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏.

## –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã

–î–æ —Å–∏—Ö –ø–æ—Ä –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ. –í—ã
—Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–µ–Ω—é, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å
–∫–Ω–æ–ø–∫–∏ –Ω–∞ –ª–µ—Ç—É.

::: danger –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ–Ω—é –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å –º–µ–Ω—é –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. –í—Å–µ –º–µ–Ω—é –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
—Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–æ –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –Ω–µ
–º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å `new Menu(¬´id¬ª)` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å
`menu.text` –∏–ª–∏ —Ç.–ø. –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ–Ω—é –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —É—Ç–µ—á–∫–µ –ø–∞–º—è—Ç–∏. –í–∞—à –±–æ—Ç
–±—É–¥–µ—Ç –≤—Å–µ –±–æ–ª—å—à–µ –∏ –±–æ–ª—å—à–µ –∑–∞–º–µ–¥–ª—è—Ç—å—Å—è –∏ –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ —É–ø–∞–¥–µ—Ç.

–û–¥–Ω–∞–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –≤ —ç—Ç–æ–º
—Ä–∞–∑–¥–µ–ª–µ. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
–º–µ–Ω—é, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –Ω–µ –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã!
:::

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é –Ω–∞ –ª–µ—Ç—É (–∏–ª–∏ –≤—Å–µ –∫–Ω–æ–ø–∫–∏, –µ—Å–ª–∏
—Ö–æ—Ç–∏—Ç–µ). –ú—ã –Ω–∞–∑—ã–≤–∞–µ–º —ç—Ç—É —á–∞—Å—Ç—å –º–µ–Ω—é _–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º_. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏,
–≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –º–µ–Ω—é, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å
—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—Å—Ç –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –º–µ–Ω—é. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±
—Å–æ–∑–¥–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ --- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `MenuRange`,
–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω. –ö–ª–∞—Å—Å `MenuRange` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞–º —Ç–æ—á–Ω–æ
—Ç–∞–∫–∏–µ –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∫ –∏ –º–µ–Ω—é, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞, –∏ –µ–≥–æ –Ω–µ–ª—å–∑—è
–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å.

```ts
const menu = new Menu("dynamic");
menu
  .url("–û –Ω–∞—Å", "https://grammy.dev/plugins/menu").row()
  .dynamic(() => {
    // –°–æ–∑–¥–∞–π—Ç–µ —á–∞—Å—Ç—å –º–µ–Ω—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏!
    const range = new MenuRange();
    for (let i = 0; i < 3; i++) {
      range
        .text(i.toString(), (ctx) => ctx.reply(`–í—ã –≤—ã–±—Ä–∞–ª–∏ ${i}`))
        .row();
    }
    return range;
  })
  .text("–û—Ç–º–µ–Ω–∞", (ctx) => ctx.deleteMessage());
```

–§—É–Ω–∫—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ `dynamic`, –º–æ–∂–µ—Ç –±—ã—Ç—å
`async`, —Ç–∞–∫ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –¥–∞–∂–µ —Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API –∏–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–∂–¥–µ
—á–µ–º –≤–µ—Ä–Ω—É—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –º–µ–Ω—é. **–í–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö [—Å–µ—Å—Å–∏–∏](./session).**.

–§—É–Ω–∫—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç
–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. (–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –æ–Ω –Ω–µ —É–∫–∞–∑–∞–Ω). –ü–æ –∂–µ–ª–∞–Ω–∏—é, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ
–∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ `ctx`, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Å–≤–µ–∂–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä `MenuRange`. –í—ã
–º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä,
–µ—Å–ª–∏ –≤–∞–º —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è. –í–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏
–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

```ts
menu.dynamic((ctx, range) => {
  for (const text of ctx.session.items) {
    range // –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ `new MenuRange()` –∏–ª–∏ `return`.
      .text(text, (ctx) => ctx.reply(text))
      .row();
  }
});
```

–í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –∏–Ω–∞—á–µ –≤–∞—à–∏ –º–µ–Ω—é –º–æ–≥—É—Ç
–ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –¥–∞–∂–µ –≤—ã–¥–∞—Ç—å –æ—à–∏–±–∫—É. –ü–æ—Å–∫–æ–ª—å–∫—É –º–µ–Ω—é –≤—Å–µ–≥–¥–∞
[–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã](#–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç) (–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –º–µ–Ω—é –∏ –æ–¥–∏–Ω —Ä–∞–∑
–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏), –≤–∞–º –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:

1. **–£ –≤–∞—Å –Ω–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π
   –¥–∏–∞–ø–∞–∑–æ–Ω**. –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –ù–µ –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏. –ù–µ
   –∏–∑–º–µ–Ω—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ
   [–í–∏–∫–∏–ø–µ–¥–∏—é –æ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö](https://en.wikipedia.org/wiki/Side_effect_(computer_science)).
2. **–í–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–∞**, —Ç.–µ. –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏, —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
   –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –±—ã—Å—Ç—Ä–æ –º–µ–Ω—è—é—â–∏—Ö—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–∏
   –∏ —Ç–µ –∂–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏ –≤—Ç–æ—Ä–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –º–µ–Ω—é. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –ø–ª–∞–≥–∏–Ω
   –º–µ–Ω—é –Ω–µ —Å–º–æ–∂–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–æ–π. –í–º–µ—Å—Ç–æ
   —ç—Ç–æ–≥–æ –æ–Ω [–æ–ø—Ä–µ–¥–µ–ª–∏—Ç](#—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ-–º–µ–Ω—é-–∏-–æ—Ç–ø–µ—á–∞—Ç–∫–∏), —á—Ç–æ –≤–∞—à–µ –º–µ–Ω—é —É—Å—Ç–∞—Ä–µ–ª–æ, –∏
   –æ—Ç–∫–∞–∂–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

## –û—Ç–≤–µ—Ç—ã –Ω–∞ callback –∑–∞–ø—Ä–æ—Å—ã –≤—Ä—É—á–Ω—É—é

–ü–ª–∞–≥–∏–Ω –º–µ–Ω—é –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å `answerCallbackQuery` –¥–ª—è —Å–≤–æ–∏—Ö
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫. –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `autoAnswer: false`, –µ—Å–ª–∏
—Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å —ç—Ç–æ.

```ts
const menu = new Menu("id", { autoAnswer: false });
```

–¢–µ–ø–µ—Ä—å –≤–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å `answerCallbackQuery`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç
–≤–∞–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

## –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –º–µ–Ω—é –∏ –æ—Ç–ø–µ—á–∞—Ç–∫–∏

–î–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –º–µ–Ω—é, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –∏ –≤—ã–∫–ª—é—á–∞—Ç—å
—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ [–≤–≤–µ—Ä—Ö—É](#–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏-–Ω–∞–∑–≤–∞–Ω–∏—è). –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
–¥–≤–∞–∂–¥—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç `/settings`, –æ–Ω –ø–æ–ª—É—á–∏—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –º–µ–Ω—é –¥–≤–∞–∂–¥—ã. –ù–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
–Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∏–∑ –¥–≤—É—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –¥—Ä—É–≥–æ–≥–æ!

–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –º—ã –Ω–µ –º–æ–∂–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤ —á–∞—Ç–µ –∏
–æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –º–µ–Ω—é –ø–æ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏—à–ª–æ—Å—å –±—ã
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫ –º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–æ–≤ API, —á—Ç–æ Telegram –æ–≥—Ä–∞–Ω–∏—á–∏–ª –±—ã —Å–∫–æ—Ä–æ—Å—Ç—å –≤–∞—à–µ–≥–æ
–±–æ—Ç–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤—Å–µ—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –º–µ–Ω—é –≤–æ
–≤—Å–µ—Ö —á–∞—Ç–∞—Ö –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞. –≠—Ç–æ –Ω–µ–ø—Ä–∞–∫—Ç–∏—á–Ω–æ.

–†–µ—à–µ–Ω–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –Ω–µ —É—Å—Ç–∞—Ä–µ–ª–æ –ª–∏ –º–µ–Ω—é, _–¥–æ_ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–∫–∞–∫–∏—Ö-–ª–∏–±–æ –¥–µ–π—Å—Ç–≤–∏–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –±—É–¥–µ–º –æ–±–Ω–æ–≤–ª—è—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –º–µ–Ω—é —Ç–æ–ª—å–∫–æ –≤
—Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—á–Ω–µ—Ç –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤ –Ω–∏—Ö.
–ü–ª–∞–≥–∏–Ω –º–µ–Ω—é –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç–∞–∫ —á—Ç–æ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –æ–± —ç—Ç–æ–º –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è.

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –º–µ–Ω—é. –ü–æ
—É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ú–µ–Ω—é —É—Å—Ç–∞—Ä–µ–ª–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ
—Ä–∞–∑!", –∏ –º–µ–Ω—é –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–æ. –í—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤
–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ `onMenuOutdated`.

```ts
// –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
const menu0 = new Menu("id", {
  onMenuOutdated: "–û–±–Ω–æ–≤–ª–µ–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ–ø–µ—Ä—å.",
});
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
const menu1 = new Menu("id", {
  onMenuOutdated: async (ctx) => {
    await ctx.answerCallbackQuery();
    await ctx.reply("–í–æ—Ç –≤–∞—à–µ –Ω–æ–≤–æ–µ –º–µ–Ω—é", { reply_markup: menu1 });
  },
});
// –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ (–º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫).
const menu2 = new Menu("id", { onMenuOutdated: false });
```

–£ –Ω–∞—Å –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–≥–æ, —É—Å—Ç–∞—Ä–µ–ª–æ –ª–∏ –º–µ–Ω—é. –ú—ã —Å—á–∏—Ç–∞–µ–º –µ–≥–æ
—É—Å—Ç–∞—Ä–µ–≤—à–∏–º, –µ—Å–ª–∏:

- –ò–∑–º–µ–Ω–∏–ª–∞—Å—å —Ñ–æ—Ä–º–∞ –º–µ–Ω—é (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫ –≤ –ª—é–±–æ–π —Å—Ç—Ä–æ–∫–µ).
- –ü–æ–∑–∏—Ü–∏—è —Å—Ç—Ä–æ–∫–∏/—Å—Ç–æ–ª–±—Ü–∞ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏ –≤—ã—à–ª–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞.
- –ò–∑–º–µ–Ω–∏–ª—Å—è —è—Ä–ª—ã–∫ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏.
- –ù–∞–∂–∞—Ç–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞.

–í–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤–∞—à–µ –º–µ–Ω—é –∏–∑–º–µ–Ω–∏—Ç—Å—è, –∞ –≤—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.
–¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –º–µ–Ω—é –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è (—Ç.–µ. –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è), —Ö–æ—Ç—è –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –º–µ–Ω—é —É—Å—Ç–∞—Ä–µ–ª–æ. –û–±–∞
—Å—Ü–µ–Ω–∞—Ä–∏—è –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω—ã –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –±–æ—Ç–æ–≤, –Ω–æ –µ—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –º–µ–Ω—é, –≤ –∫–æ—Ç–æ—Ä–æ–º
—Ç–∞–∫–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤.

```ts
function ident(ctx: Context): string {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —Ç–æ–≥–¥–∞ –∏ —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –≤–∞—à–µ –º–µ–Ω—é –∏–∑–º–µ–Ω–∏—Ç—Å—è
  // –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ, —á—Ç–æ –µ–≥–æ —Å–ª–µ–¥—É–µ—Ç —Å—á–∏—Ç–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º.
  return ctx.session.myStateIdentifier;
}
const menu = new Menu("id", { fingerprint: (ctx) => ident(ctx) });
```

–°—Ç—Ä–æ–∫–∞ –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ –∑–∞–º–µ–Ω–∏—Ç –≤—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç—É—é —Å–∏—Å—Ç–µ–º—É. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—ã –º–æ–∂–µ—Ç–µ –±—ã—Ç—å
—É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –º–µ–Ω—é –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–ª–∞–≥–∏–Ω –º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞–∫–∏—Ö-–ª–∏–±–æ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è
–±–æ–ª—å—à–∏—Ö –±–æ—Ç–æ–≤ —Å –º–∏–ª–ª–∏–æ–Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö –º–µ–Ω—é –∑–∞–Ω—è–ª–æ
–±—ã —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.

–ö–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –æ–±—ä–µ–∫—Ç—ã –º–µ–Ω—é –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç–µ –∏—Ö –≤–º–µ—Å—Ç–µ —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞
`register`, –Ω–∏–∫–∞–∫–∏–µ –º–µ–Ω—é –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–ª–∞–≥–∏–Ω –º–µ–Ω—é
–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç, –∫–∞–∫ —Å–æ–±–∏—Ä–∞—Ç—å –Ω–æ–≤—ã–µ –º–µ–Ω—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –º–µ–Ω—é
–æ–Ω –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∞—à–µ–≥–æ –º–µ–Ω—é. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç
–≤ —Å–µ–±—è –ø—Ä–æ–∫–ª–∞–¥–∫—É –≤—Å–µ—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤—Å–µ—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö
–Ω–∞–∑–≤–∞–Ω–∏–π. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–Ω—é –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –∫–Ω–æ–ø–æ–∫ –±—É–¥–µ—Ç —Å–Ω–æ–≤–∞ –∑–∞–±—ã—Ç.

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –º–µ–Ω—é –∫–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç callback –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç:

- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–µ–Ω—é.
- –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –≤ —Å—Ç—Ä–æ–∫–µ/—Å—Ç–æ–ª–±—Ü–µ.
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π payload.
- –§–ª–∞–≥ –æ—Ç–ø–µ—á–∞—Ç–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –±—ã–ª –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –æ—Ç–ø–µ—á–∞—Ç–æ–∫
  –≤ –º–µ–Ω—é.
- 4-–±–∞–π—Ç–æ–≤—ã–π —Ö—ç—à, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–¥–∏—Ä—É–µ—Ç –ª–∏–±–æ –æ—Ç–ø–µ—á–∞—Ç–æ–∫, –ª–∏–±–æ —Å—Ö–µ–º—É –º–µ–Ω—é –∏ –º–µ—Ç–∫—É
  –∫–Ω–æ–ø–∫–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞. –ú–µ–Ω—é
–±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏:

- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–µ–Ω—é —Å–æ–≤–ø–∞–¥–∞—é—Ç.
- –£–∫–∞–∑–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞/–∫–æ–ª–æ–Ω–∫–∞.
- –°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ñ–ª–∞–≥ –æ—Ç–ø–µ—á–∞—Ç–∫–∞.

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –º–µ–Ω—é, –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª
–¥–æ–±–∞–≤–ª–µ–Ω –∫ —ç—Ç–æ–π –∫–Ω–æ–ø–∫–µ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –º–µ–Ω—é. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø—Ä–æ—Å—Ç–æ —Å–Ω–æ–≤–∞
–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é. –û–¥–Ω–∞–∫–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–∞–º –Ω–µ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –º–∞–∫–µ—Ç --- –Ω–∞–º
–Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ–¥–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø–ª–∞–≥–∏–Ω
–º–µ–Ω—é –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ–≥–ª—É–±–æ–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, —á—Ç–æ–±—ã –±—ã—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º. –î—Ä—É–≥–∏–º–∏
—Å–ª–æ–≤–∞–º–∏, –º–µ–Ω—é –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏—á–Ω–æ.

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–∞–∂–∞—Ç–∞—è –∫–Ω–æ–ø–∫–∞ —Å–Ω–æ–≤–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–∑–≤–µ—Å—Ç–Ω–∞ (–∏ –º—ã –ø—Ä–æ–≤–µ—Ä–∏–ª–∏, —á—Ç–æ –º–µ–Ω—é –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è [—É—Å—Ç–∞—Ä–µ–≤—à–∏–º](#—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ-–º–µ–Ω—é-–∏-–æ—Ç–ø–µ—á–∞—Ç–∫–∏)), –º—ã –≤—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

–í–Ω—É—Ç—Ä–∏ –ø–ª–∞–≥–∏–Ω –º–µ–Ω—é –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
[—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–µ API —Ñ—É–Ω–∫—Ü–∏–∏](../advanced/transformers), –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ
—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö –º–µ–Ω—é –Ω–∞ –ª–µ—Ç—É.

–ö–æ–≥–¥–∞ –≤—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç–µ –º–µ–Ω—é –≤ –±–æ–ª—å—à–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏, –æ–Ω–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ
–±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ —Å—Å—ã–ª–∫–∏ —è–≤–Ω–æ. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –≤—Å–µ –º–µ–Ω—é –æ–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è
–≤ –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π –ø—É–ª, –∏ —ç—Ç–æ—Ç –ø—É–ª —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏—Å—è
—ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏. –ö–∞–∂–¥–æ–µ –º–µ–Ω—é –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–∞–∂–¥–æ–µ –¥—Ä—É–≥–æ–µ –≤ –∏–Ω–¥–µ–∫—Å–µ, –∏ –æ–Ω–∏ –º–æ–≥—É—Ç
–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞. (–ß–∞—â–µ –≤—Å–µ–≥–æ —Ç–æ–ª—å–∫–æ –∫–æ—Ä–Ω–µ–≤–æ–µ –º–µ–Ω—é
–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `bot.use` –∏ –ø–æ–ª—É—á–∞–µ—Ç –ª—é–±—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –æ–¥–∏–Ω
—ç–∫–∑–µ–º–ø–ª—è—Ä –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–µ—Å—å –ø—É–ª.) –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è
–º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –º–µ–Ω—é –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –ø—Ä–∏ —ç—Ç–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –º–æ–∂–µ—Ç
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∑–∞
[`O(1)` –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏](https://en.wikipedia.org/wiki/Time_complexity#Constant_time),
–ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–∫–∞—Ç—å –ø–æ –≤—Å–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –Ω—É–∂–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
–ª—é–±–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏.

## –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞–≥–∏–Ω–µ

- –ù–∞–∑–≤–∞–Ω–∏–µ: `menu`
- [–ò—Å—Ö–æ–¥–Ω–∏–∫](https://github.com/grammyjs/menu)
- [–°—Å—ã–ª–∫–∞](/ref/menu/)
