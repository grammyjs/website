# –•–æ—Å—Ç–∏–Ω–≥: VPS

–í—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –ø—Ä–∏–≤–∞—Ç–Ω–∏–π —Å–µ—Ä–≤–µ—Ä, –≤—ñ–¥–æ–º–∏–π –ø–µ—Ä–µ–≤–∞–∂–Ω–æ —è–∫ VPS, —î –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—é –º–∞—à–∏–Ω–æ—é, —è–∫–∞ –ø—Ä–∞—Ü—é—î –≤ —Ö–º–∞—Ä—ñ, –∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–∞—é—Ç—å –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —ó—ó —Å–∏—Å—Ç–µ–º–æ—é.

## –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–∞—à–æ–≥–æ –∫–æ–¥—É

–î–ª—è –ø–æ—á–∞—Ç–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è –Ω–∞–≤–µ–¥–µ–Ω–∏–º –Ω–∏–∂—á–µ –ø—Ä–∏–∫–ª–∞–¥–æ–º –±–æ—Ç–∞.
–¶–µ –¥–µ—â–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π [–ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–µ—Å—ñ—ó](../plugins/session.md#–ø—Ä–∏–∫–ª–∞–¥-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è).

–ë–æ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–π –Ω–∞ Node.js.
–ß–æ–º—É –ª–∏—à–µ Node.js, –∞ –Ω–µ Deno —á–∏ –∫—Ä–∞—â–µ –æ–¥—Ä–∞–∑—É –¥–ª—è –æ–±–æ—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â?
–í—ñ–¥–ø–æ–≤—ñ–¥—å –ø—Ä–æ—Å—Ç–∞: –∫–æ–Ω–≤–µ—î—Ä –¥–ª—è Deno –±—É–≤ –±–∏ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∏–º.
–ö–æ–Ω–≤–µ—î—Ä –¥–ª—è Node.js —É—Å–∫–ª–∞–¥–Ω—é—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º –∑–∞–≤–¥–∞–Ω–Ω—è–º –∑–±—ñ—Ä–∫–∏ –π –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º –∑–≤ º—è–∑–∫—É –º—ñ–∂ –¥–≤–æ–º–∞ –∑–∞–≤–¥–∞–Ω–Ω—è–º.
–¢–æ–∂ –∫–æ–Ω–≤–µ—î—Ä CI/CD –¥–ª—è Node.js –±—É–¥–µ –∫—Ä–∞—â–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º.

```ts
import { Bot, session, type Context, type SessionFlavor } from "grammy";

interface SessionData {
  pizzaCount: number;
}

type MyContext = Context & SessionFlavor<SessionData>;

const bot = new Bot<MyContext>("");

bot.use(session({
  initial: () => ({ pizzaCount: 0 }),
}));

bot.command("start", async (ctx) => {
  await ctx.reply(
    "–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ! –Ø —Ä–∞—Ö—É–≤–∞—Ç–∏–º—É, —Å–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ –≤–∏ –Ω–∞–¥—ñ—Å–ª–∞–ª–∏ üçï.",
  );
});

bot.command("hunger", async (ctx) => {
  const count = ctx.session.pizzaCount;
  await ctx.reply(`–í–∞—à —Ä—ñ–≤–µ–Ω—å –≥–æ–ª–æ–¥—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—å ${count}!`);
});

bot.command("reset", async (ctx) => {
  ctx.session.pizzaCount = 0;
  await ctx.reply("–í–∞—à —Ä—ñ–≤–µ–Ω—å –≥–æ–ª–æ–¥—É —Å–∫–∏–Ω—É—Ç–æ!");
});

bot.hears(/.*üçï.*/, (ctx) => ctx.session.pizzaCount++);

bot.start();
```

## –û—Ä–µ–Ω–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞

–£ —è–∫–æ—Å—Ç—ñ —Ö–æ—Å—Ç–µ—Ä–∞ –º–∏ –æ–±—Ä–∞–ª–∏ [Hostinger](https://hostinger.com.ua/).
–ù–∞ —Ç–µ —î –∫—ñ–ª—å–∫–∞ –ø—Ä–∏—á–∏–Ω:

1. –í—ñ–Ω –º—É–ª—å—Ç–∏–º–æ–≤–Ω–∏–π, —Ç–æ–∂ –≤–∞–º –±—É–¥–µ –∑—Ä—É—á–Ω–æ –π –∑—Ä–æ–∑—É–º—ñ–ª–æ –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è.
2. –£ –Ω—å–æ–≥–æ –¥—É–∂–µ –±–∞–≥–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è, —è–∫–∞ —Ä–µ—Ç–µ–ª—å–Ω–æ –ø–æ–∫—Ä–∏–≤–∞—î –≤—Å—ñ –ø—Ä–æ–±–ª–µ–º–Ω—ñ –º—ñ—Å—Ü—è, –∑ —è–∫–∏–º–∏ –º–æ–∂–µ —Å—Ç–∏–∫–Ω—É—Ç–∏—Å—è –Ω–æ–≤–∞—á–æ–∫.
3. –í—ñ–Ω –ø—Ä–æ–ø–æ–Ω—É—î –ø–æ—Ç—É–∂–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∏ –∑–∞ –¥–æ—Å–∏—Ç—å –Ω–∏–∑—å–∫–∏–º–∏ —Ü—ñ–Ω–∞–º–∏.

:::tip –ê–Ω–∞–ª–æ–≥ —Å–µ—Ä–≤–µ—Ä—É
–Ø–∫—â–æ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∞–±–æ –Ω–µ —Ö–æ—á–µ—Ç–µ –æ—Ä–µ–Ω–¥—É–≤–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—é –º–∞—à–∏–Ω–æ—é.
–î–ª—è —Ü—å–æ–≥–æ —Å–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ—Å—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º –Ω–∞ –∫—à—Ç–∞–ª—Ç [VirtualBox](https://virtualbox.org/).
–°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—É –º–∞—à–∏–Ω—É –∑ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–º Linux –π –∫–æ—Ä–∏—Å—Ç—É–π—Ç–µ—Å—è –Ω–µ—é, —è–∫ —Å–ø—Ä–∞–≤–∂–Ω—ñ–º —Å–µ—Ä–≤–µ—Ä–æ–º.
:::

–ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ [–∫–∞—Ç–∞–ª–æ–≥—É —Ç–∞—Ä–∏—Ñ—ñ–≤ VPS](https://hostinger.com.ua/vps-hosting/).
–ú–∏ —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è —Ç–∞—Ä–∏—Ñ–æ–º "VPS 1".
–ù–∏–∂—á–µ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–ª—å–Ω—É —Ç–∞–±–ª–∏—Ü—É, –≤ —è–∫—ñ–π –æ–ø–∏—Å–∞–Ω—ñ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω—ñ —Å–µ—Ä–≤–µ—Ä–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –π –ª—ñ–º—ñ—Ç–∏.
–†–µ—Å—É—Ä—Å—ñ–≤ "VPS 1" –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –±–æ—Ç—ñ–≤ –∑ –Ω–µ–≤–µ–ª–∏–∫–æ—é –∞—É–¥–∏—Ç–æ—Ä—ñ—î—é, –∞ –¥–ª—è –Ω–∞—à–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ —Ç–∏–º –ø–∞—á–µ.

–ü–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–∞—Ä—Ç–∫–∏ "VPS 1" –π –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–¥–∞—Ç–∏".
–í–∞—Å –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –¥–µ –≤–∏ —Ç–∞–∫–æ–∂ –æ–¥—Ä–∞–∑—É –∑–∞—Ä–µ—î—Å—Ç—Ä—É—î—Ç–µ—Å—è —É Hostinger.

:::warning –ó–º—ñ–Ω—ñ—Ç—å —Å—Ç—Ä–æ–∫ –æ—Ä–µ–Ω–¥–∏!
–¢–∏–ø–æ–≤–∏–π —Å—Ç—Ä–æ–∫ –æ—Ä–µ–Ω–¥–∏ - 2 —Ä–æ–∫–∏, —ñ –∫–æ—à—Ç—É—î —Ü–µ –≤–µ–ª–∏—á–µ–∑–Ω–∏—Ö –≥—Ä–æ—à–µ–π.
–í–∞–º —Ü—å–æ–≥–æ –Ω–∞–ø–µ–≤–Ω–æ –Ω–µ —Ç—Ä–µ–±–∞, —Ç–æ–º—É –¥–ª—è –ø–æ—á–∞—Ç–∫—É –æ—Ä–µ–Ω–¥—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –º—ñ—Å—è—Ü—å, —â–æ –∫–æ—à—Ç—É—î –∑–Ω–∞—á–Ω–æ –¥–µ—à–µ–≤—à–µ.

–£ –±—É–¥—å-—è–∫–æ–º—É —Ä–∞–∑—ñ Hostinger –Ω–∞–¥–∞—î 30-–¥–µ–Ω–Ω—É –≥–∞—Ä–∞–Ω—Ç—ñ—é –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≥—Ä–æ—à–µ–π.
:::

–ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –≤–∏ –∑–º–æ–∂–µ—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å–≤—ñ–π —Å–µ—Ä–≤–µ—Ä:

1. **–ú—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è.**
   –ú–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –æ–±—Ä–∞—Ç–∏ –Ω–∞–π–±–ª–∏–∂—á–µ –¥–æ –≤–∞—Å —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è.
2. **–¢–∏–ø —Å–µ—Ä–≤–µ—Ä–∞.**
   –£ —Ü—ñ–π —Å—Ç–∞—Ç—Ç—ñ –º–∏ –Ω–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏–º–µ–º–æ—Å—è –ø–∞–Ω–µ–ª–ª—é –∫–µ—Ä—É–≤–∞–Ω–Ω—è, —Ç–æ–º—É –æ–±–∏—Ä–∞—î–º–æ –≤–∞—Ä—ñ–∞–Ω—Ç "–ß–∏—Å—Ç–∞ –û–°".
3. **–û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞.**
   –ú–∏ —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è Ubuntu 22.04.
   –Ø–∫—â–æ –≤–∏ –æ–±—Ä–∞–ª–∏ —ñ–Ω—à—É —Å–∏—Å—Ç–µ–º—É, –¥–µ—è–∫—ñ –∫—Ä–æ–∫–∏ –º–æ–∂—É—Ç—å –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è, —Ç–æ–º—É –±—É–¥—å—Ç–µ –ø–∏–ª—å–Ω–∏–º–∏.
4. **–ù–∞–∑–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞.**
5. **Root-–ø–∞—Ä–æ–ª—å.**
   –ü—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å –π –±–µ—Ä–µ–∂—ñ—Ç—å –π–æ–≥–æ —É –Ω–∞–¥—ñ–π–Ω–æ–º—É —Å—Ö–æ–≤–∏—â—ñ!
6. **SSH –∫–ª—é—á.**

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞ –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –Ω—å–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SSH:

> SSH (_Secure Shell_ - _–ë–µ–∑–ø–µ—á–Ω–∞ –æ–±–æ–ª–æ–Ω–∫–∞_) - —Ü–µ –º–µ—Ä–µ–∂–µ–≤–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–º–ø º—é—Ç–µ—Ä–æ–º (—Å–µ—Ä–≤–µ—Ä–æ–º) —Ç–∞ –ø–µ—Ä–µ–¥–∞—á—ñ —Ñ–∞–π–ª—ñ–≤.

```sh:no-line-numbers
ssh root@<ip-–∞–¥—Ä–µ—Å–∞>
```

–¥–µ `<ip-–∞–¥—Ä–µ—Å–∞>` –º–∞—î –±—É—Ç–∏ –∞–¥—Ä–µ—Å–æ—é –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, —è–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–æ–º.

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

–¢–µ–ø–µ—Ä —É –Ω–∞—à–æ–º—É —Ä–æ–∑–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—ñ —î —Å–µ—Ä–≤–µ—Ä, –Ω–∞ —è–∫–æ–º—É –º–∏ –º–æ–∂–µ–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞, —â–æ–± –≤—ñ–Ω –ø—Ä–∞—Ü—é–≤–∞–≤ —Ü—ñ–ª–æ–¥–æ–±–æ–≤–æ.

> –î–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫—É —Å—Ç–∞—Ç—Ç—ñ –º–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –∫—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ –∫–æ–¥—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∞–ª–µ —Ü–µ –æ–ø–∏—Å–∞–Ω–æ [–Ω–∏–∂—á–µ](#ci-cd).

:::tip –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ä–∞–Ω—Ç–∞–π–º!
–©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ Node.js –∞–±–æ Deno, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –≤ —è–∫–æ–º—É —Ä–∞–Ω—Ç–∞–π–º—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –±–æ—Ç.
–¶–µ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –º–µ–∂—ñ —Å—Ç–∞—Ç—Ç—ñ, —Ç–æ–º—É –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏. :wink:
:::

–î–∞–ª—ñ –æ–ø–∏—Å–∞–Ω–æ –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —è–∫–∏—Ö –≤–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω—É —Ä–æ–±–æ—Ç—É –±–æ—Ç–∞.

### systemd

systemd ‚Äî —Ü–µ –ø–æ—Ç—É–∂–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–ª—É–∂–±, —è–∫–∏–π –ø–µ—Ä–µ–¥–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π —É –±–∞–≥–∞—Ç—å–æ—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Linux, –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ Debian.

#### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ –∑–∞–ø—É—Å–∫—É

1. –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–æ–≤–Ω–∏–π —à–ª—è—Ö –¥–æ –≤–∞—à–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:

```sh:no-line-numbers
# –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Deno
which deno

# –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Node.js
which node
```

2. –í–∏ —Ç–∞–∫–æ–∂ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É, —è–∫–∏–π —î —Ç–æ—á–∫–æ—é –≤—Ö–æ–¥—É –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

3. –í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É –ø–æ–≤–∏–Ω–Ω–∞ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:

```sh:no-line-numbers
<–ø–æ–≤–Ω–∏–π-—à–ª—è—Ö-–¥–æ-—Å–µ—Ä–µ–¥–æ–≤–∏—â–∞-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è> <–ø–∞—Ä–∞–º–µ—Ç—Ä–∏> <–ø–æ–≤–Ω–∏–π-—à–ª—è—Ö-–¥–æ-—Ñ–∞–π–ª—É-–≤—Ö–æ–¥—É>

# –ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è Deno:
# /home/user/.deno/bin/deno --allow-all /home/user/bot1/mod.ts

# –ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è Node.js:
# /home/user/.nvm/versions/node/v16.9.1/bin/node /home/user/bot1/index.js
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ª—É–∂–±–∏

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É —Å–ª—É–∂–±:

```sh:no-line-numbers
cd /etc/systemd/system
```

2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à –Ω–æ–≤–∏–π —Ñ–∞–π–ª —Å–ª—É–∂–±–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:

```sh:no-line-numbers
nano <–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>.service
```

–¥–µ `<–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>` –º–æ–∂–µ –±—É—Ç–∏ –±—É–¥—å-—è–∫–∏–º —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º.

> `<–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>.service` –±—É–¥–µ –Ω–∞–∑–≤–æ—é –≤–∞—à–æ—ó —Å–ª—É–∂–±–∏.

3. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –≤–º—ñ—Å—Ç:

```text
[Unit]
After=network.target

[Service]
Environment=BOT_TOKEN=<—Ç–æ–∫–µ–Ω-–±–æ—Ç–∞>
Type=simple
User=<—ñ–º º—è-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞>
ExecStart=<–∫–æ–º–∞–Ω–¥–∞-–∑–∞–ø—É—Å–∫—É>
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

–¥–µ `<—Ç–æ–∫–µ–Ω-–±–æ—Ç–∞>` –º–∞—î –±—É—Ç–∏ —Ç–æ–∫–µ–Ω–æ–º –≤–∞—à–æ–≥–æ –±–æ—Ç–∞, `<–∫–æ–º–∞–Ω–¥–∞-–∑–∞–ø—É—Å–∫—É>` –º–∞—î –±—É—Ç–∏ –∫–æ–º–∞–Ω–¥–æ—é, —è–∫—É –≤–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –≤–∏—â–µ, –∞ `<—ñ–º º—è-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞>` –º–∞—î –±—É—Ç–∏ —ñ–º–µ–Ω–µ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤—ñ–¥ —ñ–º–µ–Ω—ñ —è–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

> –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ñ–∞–π–ª–∏ —Å–ª—É–∂–± –≤—ñ–¥–≤—ñ–¥–∞–π—Ç–µ [—Ü–µ–π —Å–∞–π—Ç](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/assembly_working-with-systemd-unit-files_configuring-basic-system-settings).

4. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ systemd —â–æ—Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ —Ä–µ–¥–∞–≥—É—î—Ç–µ —Å–ª—É–∂–±—É:

```sh:no-line-numbers
systemctl daemon-reload
```

#### –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å–ª—É–∂–±–æ—é

```sh:no-line-numbers
# –ó–∞–º—ñ–Ω—ñ—Ç—å `<–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>` –Ω–∞ –Ω–∞–∑–≤—É —Ñ–∞–π–ª–∞ —Å–ª—É–∂–±–∏, —è–∫—É –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏.

# –©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–ª—É–∂–±—É
systemctl start <–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>

# –©–æ–± –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∂—É—Ä–Ω–∞–ª–∏ —Å–ª—É–∂–±–∏
systemctl status <–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>

# –©–æ–± –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–ª—É–∂–±—É
systemctl restart <–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>

# –©–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏ —Å–ª—É–∂–±—É
systemctl stop <–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>

# –©–æ–± —É–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞
systemctl enable <–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>

# –©–æ–± –≤–∏–º–∫–Ω—É—Ç–∏ –∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞
systemctl disable <–Ω–∞–∑–≤–∞-—Å–ª—É–∂–±–∏>
```

### PM2

[PM2](https://pm2.keymetrics.io/) ‚Äî —Ü–µ –º–µ–Ω–µ–¥–∂–µ—Ä –¥–µ–º–æ–Ω—ñ–≤ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –¥–ª—è Node.js, —è–∫–∏–π –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç–∞ —Ç—Ä–∏–º–∞—Ç–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É —Ä–µ–∂–∏–º—ñ –æ–Ω–ª–∞–π–Ω 24/7.

> PM2 —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤, —è–∫—ñ –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω—ñ –Ω–∞ Node.js.
> –ü—Ä–æ—Ç–µ –π–æ–≥–æ —Ç–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø—É—Å–∫—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤, —è–∫—ñ –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω—ñ –Ω–∞ —ñ–Ω—à–∏—Ö –º–æ–≤–∞—Ö –º–æ–≤–∞—Ö –∞–±–æ –¥–ª—è —ñ–Ω—à–∏—Ö —Ä–∞–Ω—Ç–∞–π–º—ñ–≤.

#### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```sh:no-line-numbers
npm install pm2@latest -g

# –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Yarn
yarn global add pm2
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ–Ω—É

PM2 –ø—Ä–æ–ø–æ–Ω—É—î –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ–Ω—É –ø—Ä–æ—Ü–µ—Å—É:

1. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞.
2. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é [—Ñ–∞–π–ª—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó](https://pm2.keymetrics.io/docs/usage/application-declaration/).

–ü–µ—Ä—à–∏–π —Å–ø–æ—Å—ñ–± –∑—Ä—É—á–Ω–∏–π –ø—ñ–¥ —á–∞—Å –∑–Ω–∞–π–æ–º—Å—Ç–≤–∞ –∑ PM2.
–ü—Ä–æ—Ç–µ –ø—ñ–¥ —á–∞—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤–∞—Ä—Ç–æ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º, —â–æ –º–∏ –π –∑—Ä–æ–±–∏–ª–∏ —É –Ω–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É.

–ù–∞ –Ω–∞—à–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–±—ñ—Ä–∫–∞ –±–æ—Ç–∞, —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–æ —Ñ–∞–π–ª `ecosystem.config.js` —ñ–∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –≤–º—ñ—Å—Ç–æ–º:

```js
module.exports = {
  apps: [{
    name: "<–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>",
    script: "<–∫–æ–º–∞–Ω–¥–∞-–∑–∞–ø—É—Å–∫—É>",
  }],
};
```

–¥–µ `<–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>` –º–æ–∂–µ –±—É—Ç–∏ –±—É–¥—å-—è–∫–∏–º —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º, –∞ `<–∫–æ–º–∞–Ω–¥–∞-–∑–∞–ø—É—Å–∫—É>` –º–∞—î –±—É—Ç–∏ –≤–ª–∞—Å–Ω–µ –∫–æ–º–∞–Ω–¥–æ—é –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `node bot.js` –∞–±–æ `npm run start` —Ç–æ—â–æ.

#### –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º

–ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ –∫–æ–º–∞–Ω–¥–∏, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —è–∫–∏—Ö –º–æ–∂–Ω–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º.

```sh:no-line-numbers
# –Ø–∫—â–æ —Ñ–∞–π–ª `ecosystem.config.js` –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–æ—Ç–æ—á–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ,
# –≤–∏ –º–æ–∂–µ—Ç–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.
# –Ø–∫—â–æ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∂–µ –∑–∞–ø—É—â–µ–Ω–∏–π, —Ç–æ —Ü—è –∫–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –π–æ–≥–æ.
pm2 start

# –í—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –≤–∏–º–∞–≥–∞—é—Ç—å –≤–∫–∞–∑—É–≤–∞–Ω–Ω—è –Ω–∞–∑–≤–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
# –∞–±–æ —Ñ–∞–π–ª—É `ecosystem.config.js`.
# –©–æ–± –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥—ñ—é –¥–æ –≤—Å—ñ—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤, –≤–∫–∞–∂—ñ—Ç—å `all`. 

# –©–æ–± –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
pm2 restart <–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>

# –©–æ–± –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
pm2 reload <–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>

# –©–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
pm2 stop <–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>

# –©–æ–± –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
pm2 delete <–Ω–∞–∑–≤–∞-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É>
```

#### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏

–Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è, –≤–∞—à –±–æ—Ç –Ω–µ –≤—ñ–¥–Ω–æ–≤–∏—Ç—å —Ä–æ–±–æ—Ç—É.
–©–æ–± –±–æ—Ç –≤—ñ–¥–Ω–æ–≤–∏–≤ —Ä–æ–±–æ—Ç—É, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥–≥–æ—Ç–æ–≤–∏—Ç–∏ PM2 –¥–ª—è —Ü—å–æ–≥–æ.

–ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É:

```sh:no-line-numbers
pm2 startup
```

–í–∞–º –±—É–¥–µ –Ω–∞–¥–∞–Ω–æ –∫–æ–º–∞–Ω–¥—É, —è–∫—É –≤–∏ –º–∞—î—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏, —â–æ–± PM2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—Ä–∞—Ü—é–≤–∞–≤ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä—É.

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ–Ω–∞–π—Ç–µ —â–µ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É:

```sh:no-line-numbers
pm2 save
```

–¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–±–µ—Ä–µ–∂–µ —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–æ—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —ó—Ö –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞.

–Ø–∫—â–æ –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –Ω–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –π —Ö–æ—á–µ—Ç–µ –π–æ–≥–æ —Ç–∞–∫–æ–∂ –∑–±–µ—Ä–µ–≥—Ç–∏, –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ–Ω–∞–π—Ç–µ `pm2 save` —â–µ —Ä–∞–∑.

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –Ω–∞ –≤–µ–±—Ö—É–∫–∞—Ö

–î–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞ –Ω–∞ –≤–µ–±—Ö—É–∫–∞—Ö, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —Å–µ—Ä–≤–µ—Ä–Ω–∏–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º –π –Ω–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `bot.start()`.

–û—Å—å –ø—Ä–∏–∫–ª–∞–¥ —Ñ–∞–π–ª—É –¥–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `fastify`:

```ts
import { webhookCallback } from 'grammy';
import { fastify } from 'fastify';
import { bot } from './bot';

const server = fastify();

server.post(`/${bot.token}`, webhookCallback(bot, 'fastify'));

server.listen();
```

### –û—Ä–µ–Ω–¥–∞ –¥–æ–º–µ–Ω—É

–©–æ–± –∑–≤ º—è–∑–∞—Ç–∏ –±–æ—Ç–∞, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –Ω–∞ –≤–µ–±—Ö—É–∫–∞—Ö, —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º —Å–≤—ñ—Ç–æ–º, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏–¥–±–∞—Ç–∏ –¥–æ–º–µ–Ω.

–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [—Å—Ç–æ—Ä—ñ–Ω–∫—É –ø–æ—à—É–∫—É –¥–æ–º–µ–Ω–Ω–∏—Ö —ñ–º–µ–Ω](https://hostinger.com.ua/kupyty-domen).
–£ –ø–æ–ª—ñ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –≤–≤–µ–¥—ñ—Ç—å –¥–æ–º–µ–Ω–Ω–µ —ñ–º º—è –≤–∏–¥—É `<–Ω–∞–∑–≤–∞>.<–∑–æ–Ω–∞>`.
–ù–∞–ø—Ä–∏–∫–ª–∞–¥, `example.com`.

–Ø–∫—â–æ –±–∞–∂–∞–Ω–∏–π –¥–æ–º–µ–Ω –≤—ñ–ª—å–Ω–∏–π, –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–¥–∞—Ç–∏" –ø–æ—Ä—è–¥ —ñ–∑ –Ω–∏–º.
–í–∞—Å –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –¥–µ –≤–∏ —Ç–∞–∫–æ–∂ –æ–¥—Ä–∞–∑—É –∑–∞—Ä–µ—î—Å—Ç—Ä—É—î—Ç–µ—Å—è —É Hostinger, —è–∫—â–æ –¥–æ—Å—ñ –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ.
–û–ø–ª–∞—Ç—ñ—Ç—å –¥–æ–º–µ–Ω.

#### –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–æ–º–µ–Ω–∞ –Ω–∞ VPS

–ü–µ—Ä—à –Ω—ñ–∂ –≤–∞—à –¥–æ–º–µ–Ω –∑–º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –≤–∞—à–∏–º VPS, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç–∏ –¥–æ–º–µ–Ω –Ω–∞ —Å–≤—ñ–π —Å–µ—Ä–≤–µ—Ä.
–©–æ–± —Ü–µ –∑—Ä–æ–±–∏—Ç–∏, –Ω–∞ [–ø–∞–Ω–µ–ª—ñ –∫–µ—Ä—É–≤–∞–Ω–Ω—è Hostinger](https://hpanel.hostinger.com/) –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "–ö–µ—Ä—É–≤–∞—Ç–∏" –ø–æ—Ä—è–¥ —ñ–∑ –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º.
–î–∞–ª—ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å–∞–º–∏ DNS, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ –∫–Ω–æ–ø–∫—É "DNS / –°–µ—Ä–≤–µ—Ä–∏ —ñ–º–µ–Ω" —É –º–µ–Ω—é –∑–ª—ñ–≤–∞.

> –°–ø–µ—Ä—à—É –¥—ñ–∑–Ω–∞–π—Ç–µ—Å—è IP-–∞–¥—Ä–µ—Å—É —Å–≤–æ–≥–æ VPS.

–£ —Å–ø–∏—Å–∫—É DNS –∑–∞–ø–∏—Å—ñ–≤ –∑–Ω–∞–π–¥—ñ—Ç—å –∑–∞–ø–∏—Å —Ç–∏–ø—É `A` –∑ —ñ–º–µ–Ω–µ–º `@`.
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ü–µ–π –∑–∞–ø–∏—Å, –∑–º—ñ–Ω–∏–≤—à–∏ IP-–∞–¥—Ä–µ—Å—É –≤ –ø–æ–ª—ñ "–í–∫–∞–∑—É—î –Ω–∞" –Ω–∞ IP-–∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ VPS, –∞ TTL –≤–∫–∞–∂—ñ—Ç—å 3600.

–î–∞–ª—ñ –∑–Ω–∞–π–¥—ñ—Ç—å –π –≤–∏–¥–∞–ª—ñ—Ç—å –∑–∞–ø–∏—Å —Ç–∏–ø—É `CNAME` –∑ —ñ–º–µ–Ω–µ–º `www`.
–ó–∞–º—ñ—Å—Ç—å –Ω—å–æ–≥–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å —Ç–∏–ø—É `A` –∑ —ñ–º–µ–Ω–µ–º `www`, —è–∫–∏–π –≤–∫–∞–∑—É–≤–∞—Ç–∏–º–µ –Ω–∞ IP-–∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ VPS, –∞ TTL –≤–∫–∞–∂—ñ—Ç—å 3600.

> –£ —Ä–∞–∑—ñ –≤–∏–Ω–µ–∫–Ω–µ–Ω–Ω—è —Ç—Ä—É–¥–Ω–æ—â—ñ–≤ —Å–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ—Å—è —ñ–Ω—à–∏–º —Å–ø–æ—Å–æ–±–æ–º, –æ–ø–∏—Å–∞–Ω–∏–º —É [–±–∞–∑—ñ –∑–Ω–∞–Ω—å](https://support.hostinger.com/uk/articles/1583227-%D1%8F%D0%BA-%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D0%B8-%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD-%D0%BD%D0%B0-vps).

## CI/CD

[CI/CD](https://about.gitlab.com/topics/ci-cd/) - —Ü–µ –≤–∞–∂–ª–∏–≤–∞ —Å–∫–ª–∞–¥–æ–≤–∞ —Å—É—á–∞—Å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É —Ä–æ–∑—Ä–æ–±–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.
–¶–µ–π –ø–æ—Å—ñ–±–Ω–∏–∫ –æ—Ö–æ–ø–ª—é—î –º–∞–π–∂–µ –≤–µ—Å—å [–∫–æ–Ω–≤–µ—î—Ä CI/CD](https://about.gitlab.com/topics/ci-cd/cicd-pipeline/).

–ú–∏ –∑–æ—Å–µ—Ä–µ–¥–∏–º–æ—Å—è –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ñ —Å–∫—Ä–∏–ø—Ç—ñ–≤ –¥–ª—è GitHub.
–ó–∞ –ø–æ–æ—Ç—Ä–µ–±–∏ –≤–∏ –∑ –ª–µ–≥–∫—ñ—Å—Ç—é –∑–º–æ–∂–µ—Ç–µ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ –Ω–∞–≤–µ–¥–µ–Ω—ñ –Ω–∏–∂—á–µ –ø—Ä–∏–∫–ª–∞–¥–∏ –¥–ª—è –æ–±—Ä–∞–Ω–æ–≥–æ –≤–∞–º–∏ —Å–µ—Ä–≤—ñ—Å—É –¥–ª—è CI/CD, —è–∫-–æ—Ç Jenkins, Buddy —Ç–æ—â–æ.

:::tip Self-hosted runner
GitHub –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å –ø–µ–≤–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∞—à–∏—Ö –∑–∞–≤–¥–∞–Ω—å.
–ü—Ä–æ—Ç–µ –≤ —Ö–æ–¥—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω–≤–µ—î—Ä—É –≤–∏ –º–æ–∂–µ—Ç–µ —à–≤–∏–¥–∫–æ –≤–∏—Ç—Ä–∞—Ç–∏ —ó—Ö –≤—Å—ñ, —á–µ—Ä–µ–∑ —â–æ –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –ø–ª–∞—Ç–∏—Ç–∏ –≥—Ä–æ—à—ñ –∑–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏, —ñ–Ω–∞–∫—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è.
–©–æ–± —Ç–∞–∫–æ–≥–æ –Ω–µ —Å—Ç–∞–ª–æ—Å—è, —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–∞ —Å–≤—ñ–π –∫–æ–º–ø º—é—Ç–µ—Ä self-hosted runner, —â–æ–± –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω—É–≤–∞–ª–∏—Å—è —É –≤–∞—Å –Ω–∞ –∫–æ–º–ø º—é—Ç–µ—Ä—ñ.
–¢–æ–¥—ñ –≤–∏ –ø–æ–∑–±–∞–≤–∏—Ç–µ—Å—è –ª—ñ–º—ñ—Ç—ñ–≤ –π –∑–º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –∫–æ–Ω–≤–µ—î—Ä–∏ –±—É–¥—å-—è–∫–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –π –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ (–º–∞–π–∂–µ).
:::

:::tip SSH-–∫–ª—é—á—ñ
–î–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ñ–∞–π–ª—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±–µ–∑–ø–∞—Ä–æ–ª—å–Ω—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é, —è–∫–∞ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SSH-–∫–ª—é—á—ñ–≤.
–¶–µ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –º–µ–∂—ñ —Å—Ç–∞—Ç—Ç—ñ, —Ç–æ–º—É –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏. :wink:
:::

### –ü—Ä–∏–∫–ª–∞–¥ —Å–∫—Ä–∏–ø—Ç—É

–û—Å—å –ø—Ä–∏–∫–ª–∞–¥ —Å–∫—Ä–∏–ø—Ç—É –¥–ª—è GitHub –¥–ª—è –Ω–∞—à–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É –±–æ—Ç–∞:

```yml
name: Main

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 'latest'
      - run: npm ci
      - name: Build
        run: npm run build
      - uses: actions/upload-artifact@v3
        with:
          name: dist
          path: dist/*.js
  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/download-artifact@v3
        with:
          name: dist
          path: dist/
      - name: Deploy
        uses: easingthemes/ssh-deploy@v4
        env:
          SOURCE: "dist package.json package-lock.json"
          ARGS: "--delete -az"
          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
          REMOTE_HOST: ${{ secrets.REMOTE_HOST }}
          REMOTE_USER: ${{ secrets.REMOTE_USER }}
          TARGET: "<—Ü—ñ–ª—å–æ–≤–∏–π-–∫–∞—Ç–∞–ª–æ–≥>"
          SCRIPT_AFTER: |
            cd <—Ü—ñ–ª—å–æ–≤–∏–π-–∫–∞—Ç–∞–ª–æ–≥>
            npm i --omit=dev
            <–∫–æ–º–∞–Ω–¥–∞-–∑–∞–ø—É—Å–∫—É>
```

–¥–µ `<—Ü—ñ–ª—å–æ–≤–∏–π-–∫–∞—Ç–∞–ª–æ–≥>` –∑–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –Ω–∞–∑–≤—É –∫–∞—Ç–∞–ª–æ–≥—É, –≤ —è–∫–æ–º—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–±—ñ—Ä–∫–∞ –±–æ—Ç–∞, –∞ `<–∫–æ–º–∞–Ω–¥–∞-–∑–∞–ø—É—Å–∫—É>` –Ω–∞ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫—É –≤–∞—à–æ–≥–æ –±–æ—Ç–∞, —è–∫–æ—é –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–ª–∏–∫ `pm2` –∞–±–æ `systemctl`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥.

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –≤–∏–∫–æ–Ω—É—î –¥–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è: `build` —Ç–∞ `deploy`.
–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `build` –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Ä–æ–±–æ—Ç–∏ —Ü—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è, –∞ —Å–∞–º–µ –∫–∞—Ç–∞–ª–æ–≥ `dist`, –≤ —è–∫–æ–º—É –º—ñ—Å—Ç–∏—Ç—å—Å—è –∑–±—ñ—Ä–∫–∞ –±–æ—Ç–∞, –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è `deploy`.

–î–æ—Å—Ç–∞–≤–∫–∞ —Ñ–∞–π–ª—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —É—Ç–∏–ª—ñ—Ç–∏ `rsync`, —è–∫–∞ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î—Ç—å—Å—è `easingthemes/ssh-deploy`.
–ü—ñ—Å–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ñ–∞–π–ª—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∞, —è–∫–∞ –æ–ø–∏—Å–∞–Ω–∞ —É –∑–º—ñ–Ω–Ω—ñ–π —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `SCRIPT_AFTER`.
–£ –Ω–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø—ñ—Å–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ñ–∞–π–ª—ñ–≤ –º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –≤ –∫–∞—Ç–∞–ª–æ–≥ –±–æ—Ç–∞, –≤ —è–∫–æ–º—É –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –æ–∫—Ä—ñ–º `devDependencies`, –π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î–º–æ –±–æ—Ç–∞.

–ó–∞—É–≤–∞–∂—Ç–µ, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∏ [—Å–µ–∫—Ä–µ—Ç–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞](https://docs.github.com/en/actions/security-guides/encrypted-secrets/):

1. `SSH_PRIVATE_KEY` - —Ç—É—Ç –º–∞—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á SSH.
2. `REMOTE_HOST` - —Ç—É—Ç –º–∞—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è IP-–∞–¥—Ä–µ—Å–∞ –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä—É
3. `REMOTE_USER` - —Ç—É—Ç –º–∞—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è —ñ–º º—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤—ñ–¥ —ñ–º–µ–Ω—ñ —è–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –±–æ—Ç.
