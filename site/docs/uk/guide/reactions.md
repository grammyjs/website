# –†–µ–∞–∫—Ü—ñ—ó

–ë–æ—Ç–∏ –º–æ–∂—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä–µ–∞–∫—Ü—ñ—è–º–∏ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
–Ü—Å–Ω—É—î –¥–≤–∞ —Ç–∏–ø–∏ —Ä–µ–∞–∫—Ü—ñ–π: –∑–≤–∏—á–∞–π–Ω—ñ –µ–º–æ–¥–∑—ñ —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –µ–º–æ–¥–∑—ñ.

## –†–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–ë–æ—Ç–∏ –º–æ–∂—É—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –æ–¥–Ω—É –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ—é –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

–£ —Ç–∏—Ö –∂–µ –≤–∏–ø–∞–¥–∫–∞—Ö –±–æ—Ç–∏ —Ç–∞–∫–æ–∂ –º–æ–∂—É—Ç—å —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–º–∏ –µ–º–æ–¥–∑—ñ, —Ö–æ—á –±–æ—Ç–∏ —ñ –Ω–µ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ [Telegram Premium](https://telegram.org/faq_premium?setln=uk).
–ö–æ–ª–∏ –ø—Ä–µ–º—ñ—É–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î –¥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—É –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ—é, –±–æ—Ç–∏ –º–æ–∂—É—Ç—å –∑–≥–æ–¥–æ–º –¥–æ–¥–∞—Ç–∏ —Ç–∞–∫—É —Å–∞–º—É —Ä–µ–∞–∫—Ü—ñ—é –¥–æ —Ü—å–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
–ö—Ä—ñ–º —Ç–æ–≥–æ, —è–∫—â–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —á–∞—Ç—É —è–≤–Ω–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –µ–º–æ–¥–∑—ñ, –≤–æ–Ω–∏ —Ç–∞–∫–æ–∂ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –±–æ—Ç–∞–º–∏ –≤ —Ü—å–æ–º—É —á–∞—Ç—ñ.

–û—Å—å —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```ts
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `ctx.react` –¥–ª—è —Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ –ø–æ—Ç–æ—á–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
bot.command("start", (ctx) => ctx.react("üòç"));
bot.on("message", (ctx) => ctx.react("üëç"));

// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `ctx.api.setMessageReaction` –¥–ª—è —Ä–µ–∞–∫—Ü—ñ—ó –¥–µ—ñ–Ω–¥–µ.
bot.on("message", async (ctx) => {
  await ctx.api.setMessageReaction(chat_id, message_id, "üéâ");
});

// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `bot.api.setMessageReaction` –ø–æ–∑–∞ –æ–±—Ä–æ–±–Ω–∏–∫–∞–º–∏.
await bot.api.setMessageReaction(chat_id, message_id, "üíØ");
```

–Ø–∫ –∑–∞–≤–∂–¥–∏, TypeScript –∑–∞–±–µ–∑–ø–µ—á–∏—Ç—å –∞–≤—Ç–æ–¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–ª—è –µ–º–æ–¥–∑—ñ, —è–∫—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.
–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ–π –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ [—Ç—É—Ç](https://core.telegram.org/bots/api#reactiontypeemoji).

::: tip –ü–ª–∞–≥—ñ–Ω –µ–º–æ–¥–∑—ñ
–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞—Ç–∏ –∑ –µ–º–æ–¥–∑—ñ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤–æ–ª—ñ –ø–æ–≥–∞–Ω–æ.
–ù–µ –≤—Å—ñ —Å–∏—Å—Ç–µ–º–∏ –º–æ–∂—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –≤–∞—à –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥.
–ö—Ä—ñ–º —Ç–æ–≥–æ, –¥—Ä–∞—Ç—É—î –ø–æ—Å—Ç—ñ–π–Ω–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ —ó—Ö –∑ —Ä—ñ–∑–Ω–∏—Ö –º—ñ—Å—Ü—å.

–î–æ–∑–≤–æ–ª—å—Ç–µ [–ø–ª–∞–≥—ñ–Ω—É –µ–º–æ–¥–∑—ñ](../plugins/emoji.md#–∫–æ—Ä–∏—Å–Ω—ñ-–¥–∞–Ω—ñ-–¥–ª—è-—Ä–µ–∞–∫—Ü—ñ–∏) –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤–∞–º!
:::

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ –≤–∏ –∑–Ω–∞—î—Ç–µ, —è–∫ –≤–∞—à –±–æ—Ç –º–æ–∂–µ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –¥–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ –º–∏ –º–æ–∂–µ–º–æ –≤–ø–æ—Ä–∞—Ç–∏—Å—è –∑ —Ä–µ–∞–∫—Ü—ñ—è–º–∏ –≤–∞—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

## –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å –ø—Ä–æ —Ä–µ–∞–∫—Ü—ñ—ó

–Ü—Å–Ω—É—î –∫—ñ–ª—å–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –æ–±—Ä–æ–±–∫–∏ –æ–Ω–æ–≤–ª–µ–Ω—å –ø—Ä–æ —Ä–µ–∞–∫—Ü—ñ—ó.
–£ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —ñ –≥—Ä—É–ø–æ–≤–∏—Ö —á–∞—Ç–∞—Ö –≤–∞—à –±–æ—Ç –æ—Ç—Ä–∏–º–∞—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `message_reaction`, —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–º—ñ–Ω–∏—Ç—å —Å–≤–æ—é —Ä–µ–∞–∫—Ü—ñ—é –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
–£ –∫–∞–Ω–∞–ª–∞—Ö (–∞–±–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—Ö –¥–æ–ø–∏—Å–∞—Ö –∫–∞–Ω–∞–ª—ñ–≤ —É –≥—Ä—É–ø–∞—Ö) –≤–∞—à –±–æ—Ç –æ—Ç—Ä–∏–º–∞—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `message_reaction_count`, —è–∫–µ –ø–æ–∫–∞–∑—É—î –ª–∏—à–µ –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∞–∫—Ü—ñ–π, –∞–ª–µ –Ω–µ —Ä–æ–∑–∫—Ä–∏–≤–∞—î, —Ö—Ç–æ —Å–∞–º–µ –≤—ñ–¥—Ä–µ–∞–≥—É–≤–∞–≤.

–û–±–∏–¥–≤–∞ —Ç–∏–ø–∏ —Ä–µ–∞–∫—Ü—ñ–π –ø–æ—Ç—Ä—ñ–±–Ω–æ —É–≤—ñ–º–∫–Ω—É—Ç–∏, –ø–µ—Ä—à –Ω—ñ–∂ –≤–∏ –∑–º–æ–∂–µ—Ç–µ —ó—Ö –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏.
–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ —Ç—Ä–∏–≤–∞–ª–æ–≥–æ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –≤–∏ –º–æ–∂–µ—Ç–µ —É–≤—ñ–º–∫–Ω—É—Ç–∏ —ó—Ö —Ç–∞–∫:

```ts
bot.start({
  allowed_updates: ["message", "message_reaction", "message_reaction_count"],
});
```

::: tip –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –≤—Å—ñ—Ö –æ–Ω–æ–≤–ª–µ–Ω—å
–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ `API_CONSTANTS` –∑ grammY —ñ –ø–æ—Ç—ñ–º –≤–∫–∞–∑–∞—Ç–∏

```ts
allowed_updates: API_CONSTANTS.ALL_UPDATE_TYPES;
```

–¥–ª—è —Ç–æ–≥–æ, —â–æ–± –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—Å—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.
–û–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [–¥–æ–≤—ñ–¥–∫—É API](/ref/core/apiconstants#ALL_UPDATE_TYPES).
:::

[–ü–ª–∞–≥—ñ–Ω –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—ñ (runner)](../plugins/runner#–ø—Ä–æ—Å—É–Ω—É—Ç—ñ-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏) —ñ `setWebhook` –º–∞—é—Ç—å —Å—Ö–æ–∂—ñ —Å–ø–æ—Å–æ–±–∏ –≤–∫–∞–∑–∞—Ç–∏ `allowed_updates`.

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ –≤–∞—à –±–æ—Ç –º–æ–∂–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∞–∫—Ü—ñ–π, –¥–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ –≤—ñ–Ω –º–æ–∂–µ —ó—Ö –æ–±—Ä–æ–±–ª—è—Ç–∏!

### –û–±—Ä–æ–±–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ä–µ–∞–∫—Ü—ñ–π

–ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–æ–≤–∏–º–∏ —Ä–µ–∞–∫—Ü—ñ—è–º–∏ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–æ.
grammY –º–∞—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É –¥–ª—è —Ü—å–æ–≥–æ —á–µ—Ä–µ–∑ `bot.reaction`.

```ts
bot.reaction("üéâ", (ctx) => ctx.reply("—é—Ö—Ö—É-—É-—É"));
bot.reaction(["üëç", "üëé"], (ctx) => ctx.reply("–ì–∞—Ä–Ω–∏–π –ø–∞–ª–µ—Ü—å"));
```

–¶—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏–º—É—Ç—å —â–æ—Ä–∞–∑—É, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞–≤–∞—Ç–∏–º–µ –Ω–æ–≤—É –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ—é –¥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

–ó–≤—ñ—Å–Ω–æ, —è–∫—â–æ –≤–∞—à –±–æ—Ç –æ–±—Ä–æ–±–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ—ó –≤—ñ–¥ –ø—Ä–µ–º—ñ—É–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞—Ç–∏ —ñ —ó—Ö.

```ts
bot.reaction(
  { type: "custom_emoji", custom_emoji_id: "identifier-string" },
  async (ctx) => {
    /* ... */
  },
);
```

–î–ª—è —Ü—å–æ–≥–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –∑–Ω–∞—Ç–∏ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–≥–æ –µ–º–æ–¥–∑—ñ.

### –û–±—Ä–æ–±–∫–∞ –¥–æ–≤—ñ–ª—å–Ω–∏—Ö –∑–º—ñ–Ω —É —Ä–µ–∞–∫—Ü—ñ—è—Ö

–•–æ—á–∞ —Ü—å–æ–≥–æ –Ω–µ –≤–∏–¥–Ω–æ –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ –∂–æ–¥–Ω–æ–≥–æ –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ Telegram, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ä–µ–∞–∫—Ü—ñ–π –æ–¥–Ω–æ—á–∞—Å–Ω–æ.
–û—Å—å —á–æ–º—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∞–∫—Ü—ñ–π –¥–∞—î –≤–∞–º –¥–≤–∞ —Å–ø–∏—Å–∫–∏: —Å—Ç–∞—Ä—ñ —Ä–µ–∞–∫—Ü—ñ—ó —Ç–∞ –Ω–æ–≤—ñ —Ä–µ–∞–∫—Ü—ñ—ó.
–¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞—à–æ–º—É –±–æ—Ç—É –æ–±—Ä–æ–±–ª—è—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –≤ —Å–ø–∏—Å–∫—É —Ä–µ–∞–∫—Ü—ñ–π.

```ts
bot.on("message_reaction", async (ctx) => {
  const reaction = ctx.messageReaction;
  // –û—Ç—Ä–∏–º—É—î–º–æ –ª–∏—à–µ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞ –Ω–µ –π–æ–≥–æ –≤–º—ñ—Å—Ç.
  const message = reaction.message_id;
  // –†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ —Ü–∏–º–∏ –¥–≤–æ–º–∞ —Å–ø–∏—Å–∫–∞–º–∏ –æ–ø–∏—Å—É—î –∑–º—ñ–Ω–∏.
  const old = reaction.old_reaction; // –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π
  const now = reaction.new_reaction; // –ø–æ—Ç–æ—á–Ω–∏–π
});
```

grammY –Ω–∞–¥–∞—î –≤–∞–º –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —â–µ –±—ñ–ª—å—à–µ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö [–∑–∞–ø–∏—Ç—ñ–≤ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–Ω–Ω—è](./filter-queries) –¥–ª—è —Ç–∏–ø—É —Ä–µ–∞–∫—Ü—ñ—ó.

```ts
// –û–Ω–æ–≤–ª–µ–Ω–Ω—è, –≤ —è–∫–∏—Ö –ø–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–∫—Ü—ñ—è –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–∏–Ω –µ–º–æ–¥–∑—ñ.
bot.on("message_reaction:new_reaction:emoji", (ctx) => {/* ... */});
// –û–Ω–æ–≤–ª–µ–Ω–Ω—è, –≤ —è–∫–∏—Ö –ø–æ–ø–µ—Ä–µ–¥–Ω—è —Ä–µ–∞–∫—Ü—ñ—è –º—ñ—Å—Ç–∏–ª–∞ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –µ–º–æ–¥–∑—ñ.
bot.on("message_reaction:old_reaction:custom_emoji", (ctx) => {/* ... */});
```

–•–æ—á–∞ —Ü—ñ –¥–≤–∞ –º–∞—Å–∏–≤–∏ [–æ–±'—î–∫—Ç—ñ–≤ `ReactionType`](https://core.telegram.org/bots/api#reactiontype) —Ç–µ—Ö–Ω—ñ—á–Ω–æ –Ω–∞–¥–∞—é—Ç—å –≤–∞–º —É—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –Ω–µ–æ–±—Ö—ñ–¥–Ω—É –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –æ–Ω–æ–≤–ª–µ–Ω—å —Ä–µ–∞–∫—Ü—ñ–π, –≤–æ–Ω–∏ –≤—Å–µ –æ–¥–Ω–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–µ—â–æ –≥—Ä–æ–º—ñ–∑–¥–∫–∏–º–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏.
–û—Å—å —á–æ–º—É grammY –º–æ–∂–µ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ –±—ñ–ª—å—à–µ –∫–æ—Ä–∏—Å–Ω–∏—Ö —Ä–µ—á–µ–π –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

### –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —è–∫ –∑–º—ñ–Ω–∏–ª–∏—Å—è —Ä–µ–∞–∫—Ü—ñ—ó

–Ü—Å–Ω—É—î [—Å–∫–æ—Ä–æ—á–µ–Ω–∏–π –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É](./context#—Å–∫–æ—Ä–æ—á–µ–Ω—ñ-–º–µ—Ç–æ–¥–∏) –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `ctx.reactions`, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø–æ–±–∞—á–∏—Ç–∏, —è–∫ —Å–∞–º–µ –∑–º—ñ–Ω–∏–ª–∞—Å—è —Ä–µ–∞–∫—Ü—ñ—è.

–û—Å—å —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ctx.reactions`, —â–æ–± –≤–∏—è–≤–∏—Ç–∏, —á–∏ –≤–∏–¥–∞–ª–∏–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–≤—ñ–π –≥–æ–ª–æ—Å "–∑–∞", –∞–ª–µ –ø—Ä–æ–±–∞—á–∏—Ç–∏ –π–æ–º—É, —è–∫—â–æ –≤—ñ–Ω –≤—Å–µ —â–µ –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∞–∫—Ü—ñ—é "–û–ö".

```ts
bot.on("message_reaction", async (ctx) => {
  const { emoji, emojiAdded, emojiRemoved } = ctx.reactions();
  if (emojiRemoved.includes("üëç")) {
    // –ì–æ–ª–æ—Å "–∑–∞" –±—É–ª–æ –≤–∏–¥–∞–ª–µ–Ω–æ! –ù–µ–ø—Ä–∏–π–Ω—è—Ç–Ω–æ.
    if (emoji.includes("üëå")) {
      // –ü–æ–∫–∏ —â–æ –¥–æ–±—Ä–µ, –Ω–µ –∫–∞—Ä–∞—î–º–æ.
      await ctx.reply("–ü—Ä–æ–±–∞—á–∞—é —Ç–æ–±—ñ");
    } else {
      // –Ø–∫ –≤–æ–Ω–∏ –ø–æ—Å–º—ñ–ª–∏.
      await ctx.banAuthor();
    }
  }
});
```

–ú–µ—Ç–æ–¥ `ctx.reaction` –ø–æ–≤–µ—Ä—Ç–∞—î —á–æ—Ç–∏—Ä–∏ –º–∞—Å–∏–≤–∏: –¥–æ–¥–∞–Ω—ñ –µ–º–æ–¥–∑—ñ, –≤–∏–ª—É—á–µ–Ω—ñ –µ–º–æ–¥–∑—ñ, –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –µ–º–æ–¥–∑—ñ —Ç–∞ —Å–ø–∏—Å–æ–∫, —è–∫–∏–π –ø–æ–∫–∞–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–º—ñ–Ω–∏.
–ö—Ä—ñ–º —Ç–æ–≥–æ, —î —â–µ —á–æ—Ç–∏—Ä–∏ –º–∞—Å–∏–≤–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –µ–º–æ–¥–∑—ñ –∑ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é.

```ts
const {
  /** –ï–º–æ–¥–∑—ñ, —è–∫—ñ –Ω–∞—Ä–∞–∑—ñ –ø—Ä–∏—Å—É—Ç–Ω—ñ —É —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  emoji,
  /** –ï–º–æ–¥–∑—ñ, —è–∫—ñ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ –¥–æ —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  emojiAdded,
  /** –ï–º–æ–¥–∑—ñ, —è–∫—ñ –Ω–µ –∑–º—ñ–Ω–∏–ª–∏—Å—è –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  emojiKept,
  /** –ï–º–æ–¥–∑—ñ, —è–∫—ñ –±—É–ª–æ –≤–∏–¥–∞–ª–µ–Ω–æ –∑ —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  emojiRemoved,
  /** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å—Ü—ñ –µ–º–æ–¥–∑—ñ, —è–∫—ñ –Ω–∞—Ä–∞–∑—ñ –ø—Ä–∏—Å—É—Ç–Ω—ñ —É —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  customEmoji,
  /** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å—Ü—ñ –µ–º–æ–¥–∑—ñ, —è–∫—ñ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ –¥–æ —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  customEmojiAdded,
  /** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å—Ü—ñ –µ–º–æ–¥–∑—ñ, —è–∫—ñ –Ω–µ –∑–º—ñ–Ω–∏–ª–∏—Å—è –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  customEmojiKept,
  /** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å—Ü—ñ –µ–º–æ–¥–∑—ñ, —è–∫—ñ –±—É–ª–æ –≤–∏–¥–∞–ª–µ–Ω–æ –∑ —Ä–µ–∞–∫—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
  customEmojiRemoved,
} = ctx.reactions();
```

–ü—Ä–æ —Ä–æ–±–æ—Ç—É –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏ –≤ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —ñ –≥—Ä—É–ø–æ–≤–∏—Ö —á–∞—Ç–∞—Ö –±—É–ª–æ —Å–∫–∞–∑–∞–Ω–æ –±–∞–≥–∞—Ç–æ.
–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –∫–∞–Ω–∞–ª–∏.

### –û–±—Ä–æ–±–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω—å –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä–µ–∞–∫—Ü—ñ–π

–£ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —á–∞—Ç–∞—Ö, –≥—Ä—É–ø–∞—Ö —ñ —Å—É–ø–µ—Ä–≥—Ä—É–ø–∞—Ö –≤—ñ–¥–æ–º–æ, —Ö—Ç–æ —Ä–µ–∞–≥—É—î –Ω–∞ —Ç–µ —á–∏ —ñ–Ω—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
–û–¥–Ω–∞–∫ –¥–ª—è –¥–æ–ø–∏—Å—ñ–≤ –Ω–∞ –∫–∞–Ω–∞–ª—ñ –º–∏ –º–∞—î–º–æ –ª–∏—à–µ —Å–ø–∏—Å–æ–∫ –∞–Ω–æ–Ω—ñ–º–Ω–∏—Ö —Ä–µ–∞–∫—Ü—ñ–π.
–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ –≤—ñ–¥—Ä–µ–∞–≥—É–≤–∞–ª–∏ –Ω–∞ –ø–µ–≤–Ω–∏–π –¥–æ–ø–∏—Å, –Ω–µ–º–æ–∂–ª–∏–≤–æ.
–¢–µ –∂ —Å–∞–º–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –¥–æ–ø–∏—Å—ñ–≤ —É –∫–∞–Ω–∞–ª–∞—Ö, —è–∫—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Å–∏–ª–∞—é—Ç—å—Å—è –≤ —á–∞—Ç–∏ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–∏—Å–∫—É—Å—ñ–π–Ω–∏—Ö –≥—Ä—É–ø.

–í –æ–±–æ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∞—à –±–æ—Ç –æ—Ç—Ä–∏–º–∞—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `message_reaction_count`.

–í–∏ –º–æ–∂–µ—Ç–µ –≤–ø–æ—Ä–∞—Ç–∏—Å—è –∑ —Ü–∏–º —Ç–∞–∫:

```ts
bot.on("message_reaction_count", async (ctx) => {
  const counts = ctx.messageReactionCount;
  // –ó–Ω–æ–≤—É –∂ —Ç–∞–∫–∏, –º–∏ –±–∞—á–∏–º–æ –ª–∏—à–µ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
  const message = counts.message_id;
  // –û—Å—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü—ñ–π –∑ —ó—Ö–Ω—å–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é.
  const { reactions } = counts;
});
```

–û–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é](https://core.telegram.org/bots/api#messagereactioncountupdated) —â–æ–¥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä–µ–∞–∫—Ü—ñ–π –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
